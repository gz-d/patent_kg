{"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"metadata": {"source": "/home/guanzhideng145/research/ip_portal/patent_kg/patents/194-US8,482,214(active).pdf"}, "page_content": "USOO8482214B2\n\n(12) United States Patent\n\n(10) Patent No.:\n\nUS 8,482,214 B2\n\nHui\n\n(45) Date of Patent:\n\nJul. 9, 2013\n\n(54) APPARATUS AND METHODS OF\n\n7,274,154 B2 * 9/2007 Atra et al. ..................... 315,224\n\nOPERATION OF PASSIVE LED LIGHTING\n\n29292 B2, 529. Shengeal.\n\n315,291\n\nEQUIPMENT\n\n7,911,149 B2\n\n3/2011 Schaible et al.\n\n... 315,224\n\n8,030,853 B1 * 10/2011 Wong et al. ...\n\n315,247\n\n2007. O152604 A1* 7, 2007 Tatsumi ......\n\n315,247\n\n(75) Inventor: Ron Shu Yuen Hui, Shatin (HK)\n\n2008/0018261 A1\n\n1/2008 Kastner .......\n\n315,192\n\n2008/0224629 A1* 9, 2008 Melanson ..................... 315,247\n\n(73) Assignee: City University of Hong Kong,\n\nKowloon (HK)\n\nOTHER PUBLICATIONS\n\nChung, et al., \u201cComparison of Dimmable Electromagnetic and Elec\n\nc (*) Notice:\n\nSubject to any site the still\n\ntronic Ballast Systems\u2014An Assessment on Energy Efficiency and\n\npast lS. e ;d justed under\n\nLifetime.\u201d IEEE Transactions on Industrial Electronics. vol. 54. No.\n\n.S.C. 154(b) by\n\nayS.\n\n6. Dec. 2007, pp. 3145-3154.\n\nS.Y.R. Hui and W. Yan, \"Re-examination on Energy Saving & Envi\n\n(21) Appl. No.: 12/544,545\n\nronmental Issues in Lighting Applications.\u201d Department of Elec\n\n(22) Filed\n\nAug. 20, 2009\n\ntronic Engineering, City University of Hong Kong, 2 pages, 2007.\n\n1C\n\nlug. AU,\n\n(Continued)\n\n(65)\n\nPrior Publication Data\n\nUS 2010/0270941 A1\n\nOct. 28, 2010\n\nPrimary Examiner \u2014 Don Le\n\n(74) Attorney, Agent, or Firm \u2014 Heslin Rothenberg Farley\n\nRelated U.S. Application Data\n\n& Mesiti P.C.\n\n(63) Continuation-in-part of application No. 12/474,001,\n\nfiled on May 28, 2009, now abandoned, which is a\n\n(57)\n\nABSTRACT\n\nSE) . f Epist N. 12/429,792,\n\nThis invention is concerned with the control and design of a\n\ned. On Apr. 24.\n\n, now abandoned.\n\nLED lighting system that does not need electrolytic capaci\n\ntors in the entire SVStem and can generate light output with\n\n(51) Int. Cl.\n\ny\n\n9.\n\nght Oulp\n\nH05B 37/02\n\n(2006.01)\n\nreduced luminous flux fluctuation. The proposal is particu\n\n52) U.S. C\n\nlarly suitable, but not restricted to, off-line applications in\n\n(52) USPG\n\n315/291: 315/201: 315/224; 315/247\n\nwhich the lighting system is powered by the ac mains. By\n\n...\n\n.\" .\n\ns\n\ns\n\ns\n\neliminating electrolytic capacitors which have a limited life\n\n(58) Field of Classification Search\n\ntime of typically 15000 hours, the proposed system can be\n\nUSPC ................. 315/201, 224, 247, 291, 294, 297,\n\ndeveloped with passive and robust electrical components\n\n315/208\n\nSuch as inductor and diode circuits, and it features long life\n\nSee application file for complete search history.\n\ntime, low maintenance cost, robustness against extreme tem\n\n(56)\n\nReferences Cited\n\nperature variations and good powerfactor. No extra electronic\n\ncontrol board is needed for the proposed passive circuits,\n\nwhich can become dimmable systems if the ac input Voltage\n\nU.S. PATENT DOCUMENTS\n\ncan be adjusted by external means.\n\n6,201,368 B1* 3/2001 Webster ........................ 3.18/729\n\n6,316,883 B1 * 1 1/2001 Cho et al. ...................... 315,247\n\n42 Claims, 28 Drawing Sheets\n\n6,856,103 B1* 2/2005 Hudson et al. ................ 315,308\n\n---------------------\n\nDC-DC\n\nAC-DC\n\nac\n\npower\n\nClurrent\n\n3S\n\nconversion\n\nSOC\n\n:\n\nstage\n\nconverter\n\nInput\n\nBuffered\n\npower\n\npower\n\ntime\n\ntime\n\ntime\n\nUS008482214B2\n\na2) United States Patent\n\n(10) Patent No.: \u201cUS 8,482,214 B2\n\nHui\n\n(45) Date of Patent: Jul. 9, 2013\n\n7,274,154 B2* 9/2007 Atra et al. ... 315/224 7,719,202 B2* 5/2010 Cheng etal. 315/291 7,911,149 B2* 3/2011 Schaible et al. 315/224 8,030,853 B1* 10/2011 Wong et al. 2007/0152604 Al* 7/2007 Tatsumi 2008/0018261 Al* 1/2008 Kastner 2008/0224629 Al* 9/2008 Melanson 315/247 315/247 315/192 315/247\n\n(54) APPARATUS AND METHODS OF OPERATION OF PASSIVE LED LIGHTING EQUIPMENT\n\n. . (75) Inventor: Ron Shu Yuen Hui, Shatin (HK)\n\n(73) Assignee: City University of Hong Kong, Kowloon (HK)\n\nOTHER PUBLICATIONS\n\nChung, et al., \u201cComparison of Dimmable Electromagnetic and Elec- tronic Ballast Systems \u4e00 An Assessment on Energy Efficiency and. Lifetime,\u201d IEEE Transactions on Industrial Electronics. vol. 54. No. Dec. 2007, pp. 3145-3154.\n\nNotice: Subject to any disclaimer, the term of this patent is extended or adjusted under U.S.C. 154(b) by 637 days.\n\nS.\u00a5.R. Hui and W. Yan, \u201cRe-examination on Energy Saving & Envi- ronmental Issues in Lighting Applications,\u2019 Department of Elec- Engineering, City University of Hong Kong, 2 pages, 2007.\n\n(21) Appl. No.: 12/544,545\n\n(22) Filed: Aug. 20, 2009\n\n(65) Prior Publication Data\n\nPrimary Examiner \u2014 Don Le\n\nUS 2010/0270941 Al Oct. 28, 2010\n\nAttorney, Agent, or Firm \u2014 Heslin Rothenberg Farley Mesiti PC.\n\nRelated U.S. Application Data\n\nContinuation-in-part of application No. 12/474,001, filed on May 28, 2009, now abandoned, which is continuation-in-part of application No. 12/429,792, filed on Apr. 24, 2009, now abandoned.\n\n(37) ABSTRACT\n\nThis invention is concerned with the control and design of a LED lighting system that does not need electrolytic capaci- tors in the entire system and can generate light output with 1 utput w reduced luminous flux fluctuation. The proposal is particu- . : \u00b0 en . larly suitable, but not restricted to, off-line applications in which the lighting system is powered by the ac mains. By eliminating electrolytic capacitors which have a limited life- time of typically 15000 hours, the proposed system can be developed with passive and robust electrical components such as inductor and diode circuits, and it features long life- time, low maintenance cost, robustness against extreme tem- perature variations and good power factor. No extra electronic control board is needed for the proposed passive circuits, which can become dimmable systems if the ac input voltage\n\n(51) Int. CL HO5B 37/02 (2006.01)\n\n50) US. cl (2) U.S. Cl. USPC apenas 315/291; 315/201; 315/224; 315/247\n\n(58) Field of Classification Search USPC ee 315/201, 224, 247, 291, \u4eba See application file for complete search history.\n\n. (56) References Cited\n\nU.S. PATENT DOCUMENTS ~\n\n6,201,368 B1* 3/2001 Webster . 318/729 6,316,883 B1* 11/2001 Cho etal. 315/247 6,856,103 B1* 2/2005 Hudson et al 315/308\n\n42 Claims, 28 Drawing Sheets\n\n\u5247 \u5247 ! 1 > AC-DC DC-DC ! ac power current- | | : mains 1 ] conversion source | oat \u4e00 \u4e00 \u4e8c stage converter 1 : Tnput Buffered LED power power power time time\n\n6.\n\ntronic\n\n(*)\n\n35\n\n(Continued)\n\n(74) &\n\n(63)\n\na\n\n:\n\ncan be adjusted by external means.\n\nUS 8,482,214 B2\n\nPage 2\n\nNational Semiconductor Corporation, \u201cLM3445 Triac Dimmable\n\nOTHER PUBLICATIONS\n\nOffline LED Driver.\u201d May 23, 2009, 26 pages.\n\nDos Reis, et al., \u201cSingle Stage Ballast for High Pressure Sodium\n\nDavid C. Hamill and Philip T. Krein, \u201cA Zero' Ripple Technique\n\nLamps.\u201d The 30\" Annual Conference of the IEEE Industrial Elec\n\nApplicable to Any DC Converter.\u201d Surrey Space Centre, University\n\nof Surrey, Guildford, UK; Dept. of Electrical and Computer Engi\n\ntronics Society. Nov. 2-6, 2004, Busan, Korea, pp. 2888-2893.\n\nneering, University of Illinois, Urbana, Illinois, USA, pp. 1165-1171.\n\nJinrong Qian and Fred C. Lee, \"A High Efficient Single Stage Single\n\nSwitch High Power Factor AC/DC Converter with Universal Input.\u201d\n\n2009.\n\nVirginia Powcr Electronics Center, The Bradley Department of Elec\n\nSchutten et al., \u201cRipple Current Cancellation Circuit.\u201d GE Global\n\nResearch Center, 1 Research Center, Niskayuna, NY 12309, pp.\n\ntrical Engineering, Virginia Polytechnic Institute and State Univer\n\nsity, Blacksburg, VA 24061-011 1. pp. 281-287, 1997.\n\n464-470, 2003.\n\nChongming Qiao and Keyue Ma Smedley, \"A Topology Survey of\n\nCheng, et al., \u201cA New Improved Boost Converter with Ripple Free\n\nInput Current Using Coupled Inductors.\u201d Department of Electrical\n\nSingle-Stage Power Factor Corrector with a Boost Type Input-Cur\n\nEngineering. The Hong Kong Polytechnic University, Hong Kong;\n\nrent-Shaper.\u201d IEEE Transactions on Power Electronics, vol. 16. No.\n\nDepartment of Electrical Engineering, Tsinghua University, P.R.\n\n3. May 2001. pp. 360-368, 2001.\n\nChina, pp. 592-599, 2009.\n\nC.K. Tse and M.H.L. Chow, \"Single Stage High Power Factor Con\n\nverter Using the Sheppard-Taylor Topology.\u201d Department of Elec\n\nS.Y.R. Hui and YX. Qin. \u201cA General Photo-Electro-Thermal Theory\n\ntronic Engineering, Hong Kong Polytechnic University, Hong Kong,\n\nfor Light Emitting Diode (LED) Systems.\u201d Centre for Power Elec\n\ntronics, City University of Hong Kong, Hong Kong, China, 9 pages,\n\npp. 1191-1197, 1996.\n\nK. Kit Sum, \u201cImproved Valley-Fill Passive Current Shaper.\u201d Consult\n\n2009.\n\nK.I.. Hwu and Sheng-Chien Chou, \"A Simple Current-Balancing\n\nant, P.O. Box 3611 10, Milpitas. California 95036-1110, pp. 1-8,\n\nConverter for LED Lighting.\u201d Center for Power Electronics Technol\n\n1997.\n\nogy, National Taipei University of Technology, Taiwan, pp. 587-590,\n\nJohn Lam and Praveen K. Jain, \"A New Passive Valley Fill Dimming\n\nElectronic Ballast with Extended Line Current Conduction Angle.\u201d\n\n2009.\n\nPower Electronics Applied Research Laboratory (PEARL), Queen's\n\nUniversity, Kingston, Canada, 7 pages, 2006.\n\ncited by examiner\n\nUS 8,482,214 B2\n\nPage 2\n\nNational Semiconductor Corporation, \u201cLM3445 Triac Dimmable Offline LED Driver,\u2019 May 23, 2009, 26 pages.\n\nOTHER PUBLICATIONS\n\nDos Reis, et al., \u201cSingle Stage Ballast for High Pressure Sodium Lamps,\u201d The 30\u201d Annual Conference of the IEEE Industrial Elec- tronics Society. Nov. 2-6, 2004, Busan, Korea, pp. 2888-2893. Jinrong Qian and Fred C. Lee, \u201cA High Efficient Single Stage Single Switch High Power Factor AC/DC Converter with Universal Input*,\u201d Virginia Power Electronics Center, The Bradley Department of Elec- trical Engineering, Virginia Polytechnic Institute and State Univer- sity, Blacksburg, VA 24061-0111. pp. 281-287, 1997.\n\nDavid C. Hamill and Philip T. Krein, \u201cA \u2018Zero\u2019 Ripple Technique Applicable to Any DC Converter,\u201d Surrey Space Centre, University of Surrey, Guildford, UK; Dept. of Electrical and Computer Engi- neering, University of Illinois, Urbana, Illinois, USA, pp. 1165-1171, 2009.\n\nSchutten et al., \u201cRipple Current Cancellation Circuit,\u201d GE Global Research Center. | Research Center, Niskayuna, NY 12309, 2003.\n\nCheng, et al., \u201cA New Improved Boost Converter with Ripple Free Input Current Using Coupled Inductors.\u201d Department of Electrical Engineering, The Hong Kong Polytechnic University, Hong Kong; Department of Electrical Engineering, Tsinghua University, P.R. China, pp. 592-599, 2009.\n\nChongming Qiao and Keyue Ma Smedley, \u201cA Topology Survey of Single-Stage Power Factor Corrector with a Boost Type Input-Cur- rent-Shaper,\u201d IEEE Transactions on Power Electronics, vol. 16. No. May 2001. pp. 360-368, 2001.\n\nC.K. Tse and M.H.L. Chow, \u201cSingle Stage High Power Factor Con- verter Using the Sheppard-Taylor Topology,\u2019 Department of Elec- tronic Engineering, Hong Kong Polytechnic University, Hong Kong, pp. 1191-1197, 1996.\n\nS.\u00a5.R. Hui and Y-X. Qin. \u201cA General Photo-Electro-Thermal Theory Light Emitting Diode (LED) Systems,\u201d Centre for Power Elec- tronics, City University of Hong Kong, Hong Kong, China, 9 pages. 2009.\n\nK. Kit Sum, \u201cImproved Valley-Fill Passive Current Shaper,\u201d Consult- ant, P.O. Box 361110, Milpitas. California 95036-1110, pp. 1-8, 1997.\n\nHwu and Sheng-Chien Chou, \u201cA Simple Current-Balancing Converter for LED Lighting.\u201d Center for Power Electronics Technol- National Taipei University of Technology, Taiwan, pp. 587-590, 2009.\n\nJohn Lam and Praveen K. Jain, \u201cA New Passive Valley Fill Dimming Electronic Ballast with Extended Line Current Conduction Angle,\u201d Power Electronics Applied Research Laboratory (PEARL), Queen\u2019s University, Kingston, Canada, 7 pages, 2006.\n\n* cited by examiner\n\n3.\n\npp.\n\n464-470,\n\nfor\n\nK.L.\n\nogy,\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 1 of 28\n\nUS 8,482,214 B2\n\nDC-DC\n\nAC-DC\n\naC\n\npower\n\nCurrent\n\n3S\n\n:\n\nconversion\n\nSOC\n\n:\n\nStage\n\nCOn We?ter\n\nInput\n\nBuffered\n\nLED\n\npower\n\npower\n\npower\n\nw\n\ntime\n\ntime\n\ntime\n\nFIG.\n\nPassive\n\n2C\n\nAC-DC\n\nLED\n\nmains\n\npower\n\nload\n\nconversion\n\nStage\n\nInput\n\nBuffered\n\nLED\n\npower\n\npower\n\npower 1\\ ?y\n\ntime\n\ntime\n\ntime\n\nFIG.2\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 1 of 28\n\nDC-DC current- source converter conversion stage\n\nPassive AC-DC ac ! mains | power | | conversion 1 Stage ! 1 Input Buffered LED power power power \u4e00 7 time -\n\nFIG.2\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 2 of 28\n\nUS 8,482,214 B2\n\nLED power\n\nP\n\nP,\n\n1 N - N - N - N'- R\n\nrw r r\n\nm +\n\nmin\n\n(a)\n\nTime\n\nLuminous\n\nflux (by\n\n1-------------\n\nAPLED\n\n(-\n\nD\n\nPmi\n\nP\n\n(b)\n\n3X\n\nLED power\n\nLuminous\n\nv\n\n(c)\n\nPmin\n\nPmax\n\nLED power\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 2 of 28\n\nLuminous flux oy fy an. ~ \u4e8e Pmin Pmax LED\n\nLuminous flux oy \u4e00 ME \u4e00 ~ \u5340 \u540d \u56de ic} > Pmin Pmax LED power \u548c v\n\n(a)\n\n(b)\n\npower\n\n(c)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 3 of 28\n\nUS 8,482,214 B2\n\ninductor\n\nED\n\nDiode\n\narray(s)\n\nmains\n\nrectifier\n\nFIG.4(a)\n\nCoupled inductor\n\nValley\n\nDiode\n\nf\n\nrectifier\n\ncircuit\n\nin\n\ndc current with ac ripple\n\nCoupled ac ripple current in\n\nout of phase of it\n\ni\n\nResultant current with ac\n\nripple reduction\n\ntime\n\nFIG. 4(c)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 3 of 28\n\ninductor\n\nac __| Input Diode Valley- {YY \\_| LED mains, \u201cter rectifier fi array(s) (optional) circuit \u2014\u2014\n\nCoupled inductor\n\ne ac Input Diode Valley- LED mains | filter rectifier fill array(s) (optional) circuit\n\ndc current with ac ripple\n\nCoupled ac ripple current in of phase of iy\n\nResultant current with ripple reduction,\n\nFIG. 4(c)\n\nFIG.4(a)\n\nFIG.4(b)\n\nie\n\nout\n\nac\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 4 of 28\n\nUS 8,482,214 B2\n\nFIG.5\n\nFIG.6\n\nFIG.7\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 4 of 28\n\nFIG.6\n\nFIG.7\n\nFIG.5\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 5 of 28\n\nUS 8,482,214 B2\n\nFIG.8\n\n1H\n\ns\n\nV3\n\nA\n\nA.\n\n1.1\n\n1.1\n\n5.6U\n\n11\n\nV 3\n\nOH\n\nInput\n\n11\n\n() VLED\n\nOH\n\nV 3\n\nA 1.1\n\n11\n\nF5.6U\n\n8 231\n\nFIG.9\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 5 of 28\n\na : : : : : : Input : : : 5\n\nFIG.8\n\n1H nen -WO Y3 a \u516d \u5927 1.1 11 ae 1.1 \u7acb 3 cm \u4e00 : Input | | 41 | \u00a9) VLED e \u4e00 Y3 \u516d 1.1| Awa \u5929 1.1 +5.6u $231 LY |\n\nFIG.9\n\nILED\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 6 of 28\n\nUS 8,482,214 B2\n\nWin\n\nVin 400,00\n\n2OO.OO\n\nO.OO\n\n200.00\n\n400.00\n\nin\n\nin\n\n150\n\n1.OO\n\n0.50\n\n0.50\n\n100\n\n1.50\n\n0.55\n\n0.60\n\n0.65\n\n0.70\n\nTime(s)\n\nFIG.10(a)\n\nP\n\nWinin\n\nIn 300.00\n\n250.00\n\n200.00\n\n150.00\n\n100.00\n\n50.00\n\n0.00\n\n50.00\n\nO,55\n\n0.60\n\n0.65\n\nO.70\n\nTime(s)\n\nFIG.10(b)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 6 of 28\n\n300.00 250.00 200.00 150,00 100.00 50.00 0.55 0.60 0.65 0.70\n\nVin\n\nFIG.10(a)\n\nVin'lin\n\nTime(s)\n\nFIG.10(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 7 of 28\n\nUS 8,482,214 B2\n\nWLED\n\nVLED 27500\n\n250.00\n\n225.00\n\n150.00\n\n125.00\n\n12 LED\n\nLED\n\n1.20\n\n:\n\n:\n\nO.60\n\n0.40\n\nO.20\n\nO,OO\n\n0.55\n\n0.60\n\n0.65\n\nO.70\n\nTime(s)\n\nFIG.11(a)\n\nTotal LED\n\nWLED LED\n\nPOWer\n\n'99\n\n250.00\n\n200.00\n\n150.00\n\n100,00\n\n50.00\n\nO.00\n\nEach LED YLEDILEDISO\n\nPOWer\n\n3.00 . . . . .\n\n. . . .\n\n. .\n\n.\n\n. . .\n\n. . .\n\n. . .\n\n. . .\n\n. . .\n\n.\n\n. . .\n\n... .\n\nW\n\nY\n\nm\n\nV\n\nY\n\nMY\n\n2.00 . . . . . .\n\n. . .\n\n. . . . . . .\n\n. . . . . . . . . . .\n\n. .\n\n. . . . :... ... ... ... . . . . . . .\n\n. . . . . . . . . . . . .\n\n'T' '\n\n' '\n\n' ' '\n\n' ' '\n\n' ' '\n\n'\n\n' ' ' ' '\n\n' '\n\n1.00 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . \". .\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n. . . . .\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n.\n\n0.00\n\n0.55\n\n0.60\n\nO,65\n\nO.70\n\nTime(s)\n\nFIG.11(b)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 7 of 28\n\n275.00 225.00 Joffe fp fp py 200.00 475.00 [fected peel pe dp pl pe edb pee. 125,00 ILED 1 1,00 0.80 0.60 0.40 Jo 0,90 0.55\n\nVLEDMILED r 300.00 200.00 |\u300c \u5b50 150.00 | \u5e7f 100.00 50.00 0,00 LED 4.00 VLED*ILED/SO\n\nVLED\n\nVLED\n\nILED\n\nTime(s)\n\nFIG.11(a)\n\nTotal LED Powe\n\nEach\n\nPower\n\nTime(s)\n\nFIG.11(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 8 of 28\n\nUS 8,482,214 B2\n\n450\n\nAOO\n\n350\n\n2 5 O\n\n2 O O\n\n1 5 O\n\n1 O O\n\nO\n\nO.5\n\n1.5\n\n2\n\n2.5\n\n3\n\n3.5\n\nsingle LED power(watt)\n\n8\n\n2 se\n\nX\n\n4 O O\n\nH\n\nO\n\n.\n\n8\n\ns\n\n-- measure light output\n\n9\n\n--calculate light output with linear Ric\n\nsingle LED power(watt)\n\nFIG.11(d)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 8 of 28\n\n450 E \u4e09 = x = = \u56db 3 fe) \u4e09 5 \u4e09 150 \u6751 1 \u7531 8 : \u2014#\u2014 measured light output I + sen. \u56db 100 \u2014@\u2014calculated light output with lineanRic 50 \u4e8c I ee 0 T | 0 0.5 3 3.5\n\nlight output \u4e00 calculat \u91cf light output with linear Rjc| \u4e00 \u56de 2 = x 2 = a 3 ie) \u00a3 E 2 B g \u52a0 2\n\nsingle LED power(watt)\n\nFIG.11(c)\n\nsingle LED power(watt)\n\nFIG.11(d)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 9 of 28\n\nUS 8,482,214 B2\n\nFIG. 12\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 9 of 28\n\n2H ILED y3 \u516d \u5927 \u5927 1.1 11 Leg, 1.1 vV3 o\u2014\u20144 \u4e00 Input | | 11 | @VLED o \u4e00 Y3 Bisa} Bris. Aaa \u4e8c 5.6u $231 He\n\nFIG.12\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 10 of 28\n\nUS 8,482,214 B2\n\nWLED\n\nVLED 275.00\n\n250.00\n\n225.OO\n\n200.00\n\n175.00\n\n150.00\n\n125.00\n\nLED 1.20\n\n1.00\n\n0.80\n\n0.60\n\n0.40\n\n0.20\n\n0.00\n\nO.55\n\n0.60\n\n0.65\n\nO.70\n\nTime(s)\n\nFIG. 13(a)\n\nTotal LED\n\nWLED LED\n\nPower\n\n300.00\n\n250.00\n\n200.00\n\n150.00\n\n1OOOO\n\n0.00\n\nWLEDILEDISO\n\nEach LED loo\n\nPOWer\n\n3.00\n\n2.00\n\n1.00\n\n0.00\n\n0.55\n\n0.60\n\nO.65\n\nO.7O\n\nTime(s)\n\nFIG.13(b)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 10 of 28\n\n275.00 250.00 225.00 200.00 175.00 150.00 125.00 120 1.00 0.80 0.60 0.40 0.20 0.00 VLED 0.60 0.65\n\nTime(s)\n\nVLED\n\nILED\n\nTotal LED\n\nPower\n\nEach LED\n\nPower\n\nFIG.13(a)\n\nVLED*ILED\n\n0.70\n\nFIG.13(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 11 of 28\n\nUS 8,482,214 B2\n\n-- measured light output\n\n--callulated light output ith linear Ric\"\n\n--masured light output\n\ncabulated light output with linear Rjc\n\nsingle LED power(watt)\n\nFIG. 13(d)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 11 of 28\n\ntotal luminous flux (lum) \u2014e\u2014mdhsured light output J |- \u6751 -callulated light output pith linear Ric J 3.5\n\ntotal luminous flux (lum) \u4e00 \u4e00 Ca 1 2 3 4 5 ulated light output with linear Rjc|\n\nsingle LED power(watt)\n\nFIG.13(c)\n\nsingle LED power(watt)\n\nFIG.13(d)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 12 of 28\n\nUS 8,482,214 B2\n\nFIG.14\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 12 of 28\n\n2H ILED Ct - 3 \u548c \u00b0 \u00b0 2H \u00a5 a \u592a a 1.1 11 eg, 11 y3 o\u2014\u2014_+ \u5247 Input | Lt (2VLED o \u4e00 Y3 Ara) Bra Baa =5.6u \u4e0a \u5916 \u9127 \u00b0 T 10u . $231 iH\n\nFIG.14\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 13 of 28\n\nUS 8,482,214 B2\n\nWLED\n\nWLED 275.00\n\n250.00\n\n225.00\n\n200.00\n\n175,OO\n\n150.OO\n\n125. OO\n\nLED\n\nLED\n\n1.20\n\n1.00\n\n0.80\n\n0.60\n\n0.40\n\n0.20\n\n0.00\n\n0.55\n\n0.60\n\n0.65\n\n0.70\n\nTime(s)\n\nFIG.15(a)\n\nTotal LED\n\nWLED LED\n\n300.00\n\nPOWer\n\n250.00\n\n200.00\n\n150.00\n\n100.00\n\n50.00\n\n0.00\n\nWLEDILDISO\n\nEach LED\n\n4.00\n\nPOWer\n\n3.00\n\n2.00\n\n1.00\n\n0.00\n\nO.55\n\n0.60\n\nO.65\n\n0.70\n\nTime(s)\n\nFIG.15(b)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 13 of 28\n\nVLED\n\n275.00 250.00 225.00 200.00 178.00 180,00 125,00\n\nLED VLED*ILED 300.00 250.00 200.00 150.00 100.00 50.00\n\nVLED\n\nILep\n\nTime(s)\n\nFIG.15(a)\n\nTotal\n\nPower\n\n0.00\n\nEach LED\n\nVLED*ILED/SO\n\nPower\n\nTime(s)\n\nFIG.15(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 14 of 28\n\nUS 8,482,214 B2\n\nes\n\nE\n\nX\n\ns\n\nO\n\nO\n\n.\n\nE\n\n2\n\n/\n\no-measuredlight output\n\ns\n\nw\n\nO\n\n'r\n\n--calculatedigt output with linear Ric\n\nw\n\n2\n\nsingle LED power(watt)\n\n700\n\n200\n\nmeasured light output\n\n1OO\n\n.\n\ncalculated light output with linear Ric\n\nsingle LED power(watt)\n\nFIG.15(d)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 14 of 28\n\nan measuredligt output -\"\u2014calculated[fig(ft output with linear Ric} total luminous flux (lum) 0 0.5 1 1.5 2 2.5 3 3.5\n\nsingle LED power(watt)\n\n700 600 4 500 4 200 Sev Sie \u540c measured light output total luminous flux (lum) wo s | calculated light output with linear Rjc\n\nFIG.15(c)\n\nsingle LED power(watt)\n\nFIG.15(d)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 15 of 28\n\nUS 8,482,214 B2\n\nLED\n\nLoad\n\nFIG 16\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 15 of 28\n\nFIG. 16\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 16 of 28\n\nUS 8,482,214 B2\n\nWin\n\n400.00\n\n| 0.55\n\nO\n\nTime(s)\n\nFIG.17(a)\n\nWin\n\n400.00\n\n300.00\n\n100.00\n\n0.00\n\n0.55\n\n0.60\n\n0.65\n\nO.70\n\nTime(s)\n\nFIG.17(b)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 16 of 28\n\n400.00 300.00 200.00 100.00 0.00 0.55 0.60 0.65 0.70\n\nTime(s)\n\nVin\n\n400.00 300.00 200.00 100.00 0.00 0.55 0.60 0.65 0.70\n\nVin\n\nFIG.17(a)\n\nTime(s)\n\nFIG.17(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 17 of 28\n\nUS 8,482,214 B2\n\nFIG. 19(a)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 17 of 28\n\nFIG. 19(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 18 of 28\n\nUS 8,482,214 B2\n\nV\n\nV.\n\n0.5W\n\no\n\nf\n\nFIG.19(c)\n\nV.\n\nP\n\no\n\nf\n\nFIG. 19(d)\n\nI\n\nR\n\nL\n\nLEED\n\n()\n\nload\n\nFIG.20\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nSheet 18 of 28\n\nJul. 9, 2013\n\nt\n\nFIG.19(c)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 19 Of 28\n\nUS 8,482,214 B2\n\nLS\n\nF.G. 21\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nSheet 19 of 28\n\nJul. 9, 2013\n\nFIG. 21\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 20 of 28\n\nUS 8,482,214 B2\n\nFIG. 22\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 20 of 28\n\nmv \u4e2a \u4eba 6 ZS ZN > R \u201c \u201d~ LED , V; w | LOAD | -\u4e8c tales aT\n\nFIG. 22\n\nFIG. 23\n\nVs\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 21 of 28\n\nUS 8,482,214 B2\n\nFIG.24\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 21 of 28\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 22 of 28\n\nUS 8,482,214 B2\n\nCr\n\nswitches for tapping control\n\nFIG.25\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 22 of 28\n\nswitches for tapping control\n\nFIG.25\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 23 of 28\n\nUS 8,482,214 B2\n\ncontrolled current source\n\nFIG.26\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 23 of 28\n\ncontroiled current source\n\nFIG.26\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 24 of 28\n\nUS 8,482,214 B2\n\n2OOV\n\n1OOV\n\nOV\n\n76OmS 7.65ms\n\n77OmS 775ms 780ms 785mS 790mS 795ms 800ms\n\no V(d3:20)\n\nTIME\n\nFIG. 27\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 24 of 28\n\n200V- 100V- ov K 760ms 765ms 770ms 775ms 780ms 785ms 790ms 795ms 800ms 2 V(d3:2,0) TIME\n\nFIG. 27\n\n300V-\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 25 of 28\n\nUS 8,482,214 B2\n\n3OOV.\n\n2OOV.\n\n10OV\n\nOV\n\n76OmS 7.65ms\n\n77Oms 775ms 78Orms\n\n785ms 790mS\n\n795ms 800ms\n\no V(R4:1)\n\nTIME\n\nFIG. 28(a)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 25 of 28\n\n300V- 200V+ wwe \u4e8e ov 760ms 765ms 770ms 775ms 780ms 785ms 790ms 795ms 800ms aV(R4:1) TIME\n\nFIG. 28(a)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 26 of 28\n\nUS 8,482,214 B2\n\n2OOV.\n\n1OOV\n\nOV\n\n76OmS 7.65mS\n\n770mS 775ms 780ms 785mS 790mS\n\n795mS 800ms\n\no V(R4:1)\n\nTIME\n\nFIG. 28(b)\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 26 of 28\n\n300V- 200V- 100V- ov 760ms 765ms 770ms 775ms 780ms 785ms 790ms 795ms 800ms oV(R4:1) TIME\n\nFIG. 28(b)\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 27 Of 28\n\nUS 8,482,214 B2\n\n-- as I\n\nFIG.29\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 27 of 28\n\nC/ | Ver-O/C) C2 | Ve2=Q/C3 |e\n\nFIG.29\n\nU.S. Patent\n\nJul. 9, 2013\n\nSheet 28 of 28\n\nUS 8,482,214 B2\n\n3OOV.\n\n2OOV.\n\n1OOV\n\nOV\n\n76OmS 7.65mS\n\n77OmS 775mS 780mS 785mS 790mS\n\n795ms 800ms\n\no V(R4:1)\n\nTIME\n\nFIG. 30\n\nU.S. Patent\n\nUS 8,482,214 B2\n\nJul. 9, 2013\n\nSheet 28 of 28\n\n300V- 200V- 100V- ov 760ms 765ms 770ms 775ms 780ms 785ms 790ms 795ms 800ms 2 V(R4:1) TIME\n\nFIG. 30\n\nUS 8,482,214 B2\n\n1.\n\n2\n\nwhich combines the two power stages into one and Such a\n\nAPPARATUS AND METHODS OF\n\ntechnique has been reported in many off-line power Supply\n\nOPERATION OF PASSIVE LED LIGHTING\n\ndesigns Reis, F. S. D.; Lima, J. C.; Tonkoski, R., Jr.; Canalli,\n\nEQUIPMENT\n\nV. M.; Ramos, F. M.; Santos, A.; Toss, M.; Sarmanho, U.;\n\nEdar, F., Lorenzoni, L., \u201cSingle stage ballast for high pressure\n\nCROSS-REFERENCE TO RELATED\n\nsodium lamps, IECON 2004. 30th Annual Conference of\n\nAPPLICATIONS\n\nIEEE Industrial Electronics Society, 2004. Volume 3, 2-6\n\nNov. 2004 Page(s): 2888-2893 Vol. 3: Jinrong Qian: Lee, F.\n\nThis application is a continuation-in-part of U.S. patent\n\nC.; 'A high efficient single stage single Switch high power\n\napplication Ser. No. 12/474,001, filed May 28, 2009, which is\n\na continuation-in-part of U.S. patent application Ser. No.\n\nfactor AC/DC converter with universal input. Twelfth\n\n10\n\nAnnual Applied Power Electronics Conference and Exposi\n\n12/429,792, filed Apr. 24, 2009, each of which is hereby\n\ntion, 1997. APEC 97 Conference Proceedings 1997, Volume\n\nincorporated herein by reference in its entirety.\n\n1, 23-27 Feb. 1997 Page(s): 281-287: Qiao, C. Smedley, K.\n\nM.: \"Atopology Survey of single-stage power factor corrector\n\nFIELD OF THE INVENTION\n\nwith a boost type input-current-shaper, IEEE Transactions\n\n15\n\non Power Electronics, Volume 16, Issue 3, May 2001 Page(s):\n\nThis invention relates to apparatus and methods for the\n\noperation of passive light emitting diode (LED) lighting\n\n360-368; Tse, C. K. Chow, M. H. L.; \"Single stage high\n\npower factor converter using the Sheppard-Taylor topology\u2019.\n\nequipment, and in particular to Such apparatus and methods as\n\nmay avoid the need to use electrolytic capacitors.\n\n27th Annual IEEE Power Electronics Specialists Conference,\n\n1996. PESC 96 Record. Volume 2, 23-27 Jun. 1996 Page(s):\n\n1191-1197 vol. 2. In both approaches, electrolytic capacitors\n\nBACKGROUND OF THE INVENTION\n\nare used to provide the energy storage and buffer so that the\n\nLED technology has been promoted as a promising light\n\ndifference between the input power and the output power\n\ning technology to replace energy-inefficient incandescent\n\nconsumed by the load can be stored or delivered by the\n\nlamps and mercury-based linear and compact fluorescent\n\ncapacitors.\n\n25\n\nRegardless of whether a single-stage or a two-stage\n\nlamps. It is often claimed by LED manufacturers that the LED\n\ndevices have a long lifetime that could be higher than 5 years.\n\napproach is used, a large capacitance (requiring the use of\n\nHowever, the electrolytic capacitors used in the power circuit\n\nelectrolytic capacitors) is needed as energy-storage to cater\n\nand the electronic controls for LED systems have a limited\n\nfor the difference between the input power from the ac mains\n\nlifetime, typically 15000 hours (or 1.7 years) at an operating\n\nand the almost constant power of the LED load. The input\n\n30\n\ntemperature of 105\u00b0C. The lifetime of an electrolytic capaci\n\npower of an off-line lighting system is typically a periodically\n\ntor is highly sensitive to the operating temperature. The life\n\npulsating function as shown in FIG. 1. For example, if power\n\ntime is doubled if the operating temperature is decreased by\n\nfactor is close to one, the input Voltage and current are in\n\n10\u00b0 C. and halved if increased by 10\u00b0C. Therefore, the short\n\nphase and thus the input power follows a pulsating waveform\n\nlifetime of electronic control circuits (sometimes known as\n\n(similar to a rectified sinusoidal waveform). If the lighting\n\n35\n\nballasts) for LEDs remains one major bottleneck in the utili\n\nload is of constant power, then the capacitors are needed to\n\nzation of LED technology Chung, H. S.-H.; Ho, N.-M.; Yan,\n\nabsorb or deliver the difference in power between the ac\n\nW.; Tam, P. W.; Hui, S.Y.: \u201cComparison of Dimmable Elec\n\nmains and the lighting load as shown in FIG. 1.\n\ntromagnetic and Electronic Ballast Systems\u2014An Assess\n\nAn electronic ballast circuit without the use of electrolytic\n\nment on Energy Efficiency and Lifetime', IEEE Transactions\n\ncapacitors has been proposed. But the requirement for active\n\n40\n\non Industrial Electronics, Volume 54, Issue 6, December 2007\n\npower Switches in Such proposal means that an electronic\n\nPage(s): 3145-315.4; Hui S.Y. R. and Yan W., \u201cRe-examina\n\ncontrol board that provides the Switching signals for the\n\ntion on Energy Saving & Environmental Issues in Lighting\n\nactive power switches is needed and this electronic control\n\nApplications\u201d. Proceedings of the 11\" International Sympo\n\nboard needs a power Supply that requires the use of electro\n\nsium on Science 7 Technology of Light Sources, May 2007,\n\nlytic capacitors. In general, electrolytic capacitors are needed\n\n45\n\nShanghai, China (Invited Landmark Presentation), pp. 373\n\nin a dc power Supply for providing the hold-up time (i.e. to\n\nkeep the dc voltage for a short period of time when the input\n\n374).\n\nIn general, electrolytic capacitors are used in power\n\npower source fails.) Power electronic circuits that use active\n\ninverter circuits and electronic control circuits for lighting\n\nSwitches usually need a dc power Supply for the gate drive\n\nsystems because they provide the necessary large capacitance\n\ncircuits that provide Switching signals for the active elec\n\n50\n\nof the order of hundreds and eventhousands of micro-Farads,\n\ntronic switches. Therefore, it would be useful if a passive\n\nwhile other more long-lasting capacitors such as ceramic,\n\nelectronic ballast circuit can be developed for providing a\n\npolypropylene and metalized plastic film capacitors have\n\nstable current source for the LED load. A passive ballast\n\nrelatively less capacitance of several tens of micro-Farads or\n\ncircuit without active switches, electronic control board and\n\nless. The large capacitance of electrolytic capacitors is usu\n\nelectrolytic capacitors would be a highly robust and reliable\n\n55\n\nally needed to provide a stable dc link voltage for the ballast\n\nsolution that enhances the lifetime of the entire LED system.\n\ncircuit to provide stable power (with reduced power variation)\n\nThe remaining challenge is to determine how to provide a\n\nfor the load; a stable dc power supply in the electronic control\n\nstable current source for the LED load based on a totally\n\nfor the power inverter circuit.\n\npassive circuit.\n\nFIG. 1 shows the schematic of a typical off-line lighting\n\n60\n\nsystem. An off-line system here means a system that can be\n\nSUMMARY OF THE INVENTION\n\npowered by the ac mains. The power conversion circuit can\n\nadopt a two-stage approach in which an AC-DC power stage\n\nAccording to the present invention there is provided an\n\nLED lighting system comprising in sequence: (a) a rectifica\n\nwith power factor correction is used as the first power stage,\n\ntion circuit for rectifying an AC input power and generating a\n\nwhich is followed by a second dc-dc power conversion stage\n\n65\n\nrectified DC power, (b) a first circuit for reducing the voltage\n\nfor controlling the current for LED load. An alternative to the\n\ntwo-stage approach is to employ a single-stage approach\n\nripple of said rectified DC power, (c) a second circuit having\n\nUS 8,482,214 B2\n\n2\n\n1\n\nAPPARATUS AND METHODS OF OPERATION OF PASSIVE LED LIGHTING EQUIPMENT\n\ntechnique has been reported in many off-line power supply designs [Reis, F. S. D.; Lima, J. C.; Tonkoski, R., Jr.; Canalli, V. M.; Ramos, F. M.; Santos, A.; Toss, M.; Sarmanho, U.; Edar, F.; Lorenzoni, L.; \u201cSingle stage ballast for high pressure sodium lamps\u201d, IECON 2004. 30th Annual Conference of TEEE Industrial Electronics Society, 2004. Volume 3, 2-6 Nov. 2004 Page(s): 2888-2893 Vol. 3: Jinrong Qian; Lee, F. C.; \u201cA high efficient single stage single switch high power factor AC/DC converter with universal input\u201d, Twelfth Annual Applied Power Electronics Conference and Exposi- tion, 1997, APEC \"97 Conference Proceedings 1997, Volume 1, 23-27 Feb. 1997 Page(s): 281-287; Qiao, C.; Smedley, K. M.; \u201cA topology survey of single-stage power factor corrector with a boost type input-current-shaper\u201d, IEEE Transactions on Power Electronics, Volume 16, Issue 3, May 2001 Page(s): 360-368; Tse, C. K.; Chow, M. H. L.: \u201cSingle stage high power factor converter using the Sheppard-Taylor topology\u201d, 27th Annual IEEE Power Electronics Specialists Conference, 1996. PESC \u201d96 Record., Volume 2, 23-27 Jun. 1996 Page(s): 1191-1197 vol. 2]. In both approaches, electrolytic capacitors are used to provide the energy storage and buffer so that the difference between the input power and the output power consumed by the load can be stored or delivered by the\n\nCROSS-REFERENCE TO RELATED APPLICATIONS\n\nThis application is a continuation-in-part of U.S. patent application Ser. No. 12/474,001, filed May 28, 2009, which is a continuation-in-part of U.S. patent application Ser. No. 12/429,792, filed Apr. 24, 2009, each of which is hereby incorporated herein by reference in its entirety.\n\nFIELD OF THE INVENTION\n\nThis invention relates to apparatus and methods for the operation of passive light emitting diode (LED) lighting equipment, and in particular to such apparatus and methods as may avoid the need to use electrolytic capacitors.\n\n20\n\nBACKGROUND OF THE INVENTION\n\ning technology to replace energy-inefficient incandescent lamps and mercury-based linear and compact fluorescent lamps. It is often claimed by LED manufacturers that the LED devices have a long lifetime that could be higher than 5 years. However, the electrolytic capacitors used in the power circuit and the electronic controls for LED systems have a limited. lifetime, typically 15000 hours (or 1.7 years) at an operating temperature of 105\u00b0 C. The lifetime of an electrolytic capaci- tor is highly sensitive to the operating temperature. The life- time is doubled if the operating temperature is decreased by 10\u00b0 C. and halved if increased by 10\u00b0 C. Therefore, the short lifetime of electronic control circuits (sometimes known as ballasts) for LEDs remains one major bottleneck in the utili- zation of LED technology [Chung, H. S.-H.; Ho, N.-M.; Yan, W Tam, P. W.; Hui, S. Y.; \u201cComparison of Dimmable Elec- tromagnetic and Electronic Ballast Systems\u2014An Assess- ment on Energy Efficiency and Lifetime\u201d, IEEE Transactions on Industrial Electronics, Volume 54, Issue 6, December 2007 Page(s): 3145-3154; Hui S. Y. R. and Yan W., \u201cRe-examina- tion on Energy Saving & Environmental Issues in Lighting Applications\u201d, Proceedings of the 11\u201d International Sympo- sium on Science 7 Technology of Light Sources, May 2007, Shanghai, China (Invited Landmark Presentation), pp. 373-\n\nRegardless of whether a single-stage or a two-stage approach is used, a large capacitance (requiring the use of electrolytic capacitors) is needed as energy-storage to cater for the difference between the input power from the ac mains and the almost constant power of the LED load. The input power of an off-line lighting system is typically a periodically pulsating function as shown in FIG. 1. For example, if power factor is close to one, the input voltage and current are in hase and thus the input power follows a pulsating waveform (similar to a rectified sinusoidal waveform). If the lighting load is of constant power, then the capacitors are needed to absorb or deliver the difference in power between the ac mains and the lighting load as shown in FIG. 1.\n\ncapacitors has been proposed. But the requirement for active ower switches in such proposal means that an electronic control board that provides the switching signals for the active power switches is needed and this electronic control oard needs a power supply that requires the use of electro- lytic capacitors. In general, electrolytic capacitors are needed in a de power supply for providing the hold-up time (i.e. to eep the de voltage for a short period of time when the input ower source fails.) Power electronic circuits that use active switches usually need a de power supply for the gate drive circuits that provide switching signals for the active elec- tronic switches. Therefore, it would be useful if a passive electronic ballast circuit can be developed for providing a stable current source for the LED load. A passive ballast circuit without active switches, electronic control board and electrolytic capacitors would be a highly robust and reliable solution that enhances the lifetime of the entire LED system. The remaining challenge is to determine how to provide a stable current source for the LED load based on a totally\n\nIn general, electrolytic capacitors are used in power inverter circuits and electronic control circuits for lighting systems because they provide the necessary large capacitance of the order of hundreds and even thousands of micro-Farads, while other more long-lasting capacitors such as ceramic, polypropylene and metalized plastic film capacitors have relatively less capacitance of several tens of micro-Farads or less. The large capacitance of electrolytic capacitors is usu- ally needed to provide a stable de link voltage for the ballast circuit to provide stable power (with reduced power variation) for the load; a stable de power supply in the electronic control for the inverter circuit.\n\nFIG. 1 shows the schematic of a typical off-line lighting system. An off-line system here means a system that can be powered by the ac mains. The power conversion circuit can adopt a two-stage approach in which an AC-DC power stage with power factor correction is used as the first power stage, which is followed by a second de-de power conversion stage for controlling the current for LED load. An alternative to the two-stage approach is to employ a single-stage approach\n\nSUMMARY OF THE INVENTION\n\nAccording to the present invention there is provided an LED lighting system comprising in sequence: (a) a rectifica- tion circuit for rectifying an AC input power and generating a rectified DC power, (b) a first circuit for reducing the voltage ripple of said rectified DC power, (c) a second circuit having\n\nLED technology has been promoted as a promising light-\n\n374].\n\npower\n\n10\n\n15\n\n25\n\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\nwhich combines the two power stages into one and such a\n\ncapacitors.\n\nAn electronic ballast circuit without the use of electrolytic\n\npassive circuit.\n\nUS 8,482,214 B2\n\n3\n\n4\n\neye. Such a thermal characteristic may comprises the design\n\na coupled inductor with a capacitor, the second circuit being\n\narranged to generate a current source, and (d) at least one LED\n\nof the heatsink and/or the provision of forced cooling or\n\nreceiving said current source as an input, the power Supplied\n\nnatural cooling.\n\nto the at least one LED being permitted to vary, and the\n\nPreferably a valley-fill circuit is used to reduce the voltage\n\noperating and/or design parameters of the at least one LED\n\nripple of the rectified DC power. The valley-fill circuit may\n\nbeing chosen such that the variation in luminous flux resulting\n\ninclude a Voltage-doubler.\n\nfrom the variation in power is not observable to the human\n\nPreferably, the valley-fill circuit is provided with a first\n\ncapacitor and a second capacitor. The capacitances of the first\n\neye.\n\nPreferably the voltage ripple reducing circuit is a valley-fill\n\nand second capacitors may be the same, or the first capacitor\n\ncircuit located between the rectification circuit and the induc\n\nmay be selected with a different capacitance to the second\n\n10\n\ntor. The valley-fill circuit may include a voltage-doubler.\n\ncapacitor such that the valley-fill circuit is used to further\n\nPreferably, the valley-fill circuit includes a first capacitor\n\nreduce the voltage ripple of the rectified DC power.\n\nand a second capacitor. The capacitances of the first and\n\nIn preferred embodiments of the invention the method\n\nsecond capacitors may be the same, or the first and second\n\nfurther comprises the step of reducing the current ripple of\n\ncapacitors may have different capacitances such that the Volt\n\nsaid current source. Such a circuit may comprise a coupled\n\n15\n\nage ripple of said rectified DC power is further reduced.\n\ninductor with a capacitor used to reduce the current ripple.\n\nPreferably the second circuit comprises an inductor. The\n\nPreferably the sensitivity of the LED power to fluctuations\n\nsecond circuit may further function as a current ripple reduc\n\nin the AC input Supply Voltage is also controlled.\n\ntion circuit. Such a current ripple reduction circuit may com\n\nPreferably, the AC input voltage can be varied so that the\n\nprise a coupled inductor with a capacitor.\n\nLED lighting system is dimmable.\n\nPreferably means are also provided for reducing the sensi\n\nThe valley-fill circuit described above can be used more\n\ntivity of the LED power to fluctuations in the AC input supply.\n\ngenerally to generate a DC output Voltage for broader variety\n\nThis may be achieved, for example, by placing an inductor in\n\nof applications. Therefore, in another broad aspect of the\n\nseries between the AC input supply and the diode rectification\n\npresent invention, there is provided a valley-fill circuit for\n\ncircuit. A capacitor may also be provided in parallel between\n\ngenerating a DC output Voltage, the circuit including a first\n\n25\n\nthis input inductor and the diode rectification circuit.\n\ncapacitor and a second capacitor, wherein the first and second\n\nThis input inductor may be a variable inductor that is\n\ncapacitors have different capacitances such that the Voltage\n\nripple of the DC output voltage is reduced, and a current\n\ncontrollable such that the at least one LED is dimmable. The\n\nuse of a variable inductor may solely be for providing a\n\nSource circuit having an inductor.\n\ndimming function, or may be for reducing the sensitivity of\n\nA further broad aspect of the present invention provides a\n\n30\n\nthe LED power to fluctuations in the AC input supply in\n\nmethod of generating a DC output by using a valley-fill circuit\n\ncombination with providing a dimming function.\n\nincluding a first capacitor and a second capacitor, wherein the\n\nSuch use of an input inductor may also be useful indepen\n\nfirst and second capacitors have different capacitances Such\n\ndently of providing reduction of Voltage/current ripple and\n\nthat a DC output Voltage with reduced Voltage ripple is gen\n\ntherefore according to another aspect of the invention there is\n\nerated.\n\n35\n\nalso provided an LED lighting system comprising: an AC\n\ninput power source, a rectification circuit for rectifying an AC\n\nBRIEF DESCRIPTION OF THE DRAWINGS\n\ninput power and generating a rectified DC power, and an\n\ninductor provided in series between the AC input power\n\nSome embodiments of the invention will now be described\n\nby way of example and with reference to the accompanying\n\nSource and the rectification circuit. Again, a capacitor may be\n\n40\n\ndrawings, in which:\n\nprovided in parallel between the inductor and the diode rec\n\nFIG. 1 shows a schematic and power profiles of a typical\n\ntification circuit, the inductor being a variable inductor con\n\noff-line LED lighting system according to the prior art;\n\ntrollable such that the LED lighting system is dimmable.\n\nFIG.2 shows a schematic and \u201cmodified power profiles of\n\nAlso, the input inductor may be a variable conductor that is\n\nan off-line LED lighting system according to an embodiment\n\ncontrollable so that the LED lighting system is dimmable.\n\n45\n\nIn preferred embodiments of the invention the power Sup\n\nof the invention;\n\nplied to the at least one LED is permitted to vary, and the\n\nFIGS. 3(a)-(c) show the variation of LED power and lumi\n\noperating and/or design parameters of the at least one LED\n\nnous flux in an embodiment of the present invention;\n\nare chosen Such that the variation in luminous flux resulting\n\nFIGS. 4(a), (b) and (c) show (a) a schematic diagram of a\n\npassive off-line circuit design for an LED system using an\n\nfrom the variation in power is not observable to the human\n\n50\n\ninductor for current ripple reduction, and (b) and (c) using a\n\neye.\n\ncoupled inductor for current ripple reduction;\n\nViewed from another broad aspect the present invention\n\nprovides a method of operating a LED lighting system com\n\nFIG. 5 shows a schematic of an example of one possible\n\nprising the steps of: (a) rectifying an AC input Voltage to\n\nhardware implementation of the proposed passive circuit for\n\ngenerate a rectified DC power, (b) reducing the Voltage ripple\n\nan off-line LED system using a standard valley-fill circuit;\n\n55\n\nof the rectified DC power, (c) generating a current Source\n\nFIG. 6 shows a model used for simulation of the circuit in\n\nfrom the voltage ripple reduced rectified DC power, and (d)\n\nFIG. 5;\n\nFIG.7 shows an example of a proposed passive circuit with\n\nproviding the current source as an input to at least one LED,\n\na standard valley-fill circuit for multiple loads;\n\nwherein the power supplied to the at least one LED is permit\n\nFIG. 8 shows an example of a proposed passive circuit\n\nted to vary by use of a variable inductor, and wherein the\n\n60\n\nusing a valley-fill circuit with a voltage doubler for multiple\n\noperating and/or design parameters of the at least one LED\n\nare chosen Such that the variation in luminous flux resulting\n\nloads;\n\nFIG.9 shows an LED system according to an embodiment\n\nfrom the variation in power is not observable to the human\n\nof the invention under a simulation evaluation (L=1H):\n\neye.\n\nFIGS. 10(a) and (b) show (a) simulated input voltage and\n\nPreferably a thermal characteristic of the at least one LED\n\n65\n\ncurrent of the system of FIG.9, and (b) simulated input power\n\nmay be chosen Such that the variation in luminous flux result\n\nof the system of FIG.9;\n\ning from the variation in power is not observable to the human\n\nUS 8,482,214 B2\n\n3\n\n4\n\na coupled inductor with a capacitor, the second circuit being arranged to generate a current source, and (d) at least one LED receiving said current source as an input, the power supplied to the at least one LED being permitted to vary, and the operating and/or design parameters of the at least one LED being chosen such that the variation in luminous flux resulting from the variation in power is not observable to the human eye.\n\nSuch a thermal characteristic may comprises the design the heatsink and/or the provision of forced cooling natural cooling.\n\nPreferably, the valley-fill circuit is provided with a first capacitor and a second capacitor. The capacitances of the first and second capacitors may be the same, or the first capacitor may be selected with a different capacitance to the second capacitor such that the valley-fill circuit is used to further reduce the voltage ripple of the rectified DC power.\n\nPreferably the voltage ripple reducing circuit is a valley-fill circuit located between the rectification circuit and the induc- The valley-fill circuit may include a voltage-doubler.\n\nPreferably, the valley-fill circuit includes a first capacitor a second capacitor. The capacitances of the first and second capacitors may be the same, or the first and second capacitors may have different capacitances such that the volt- ripple of said rectified DC power is further reduced.\n\nIn preferred embodiments of the invention the method further comprises the step of reducing the current ripple current source. Such a circuit may comprise a coupled inductor with a capacitor used to reduce the current ripple.\n\nPreferably the sensitivity of the LED power to fluctuations the AC input supply voltage is also controlled.\n\nPreferably the second circuit comprises an inductor. The second circuit may further function as a current ripple reduc- tion circuit. Such a current ripple reduction circuit may com- prise a coupled inductor with a capacitor.\n\nPreferably, the AC input voltage can be varied so tl LED lighting system is dimmable. at the\n\nThe valley-fill circuit described above can be used more generally to generate a DC output voltage for broader variety of applications. Therefore, in another broad aspect of the present invention, there is provided a valley-fill circuit for generating a DC output voltage, the circuit including a first capacitor and a second capacitor, wherein the first and second capacitors have different capacitances such that the voltage ripple of the DC output voltage is reduced, and a current source circuit having an inductor.\n\nPreferably means are also provided for reducing the sensi- tivity of the LED power to fluctuations in the AC input supply. This may be achieved, for example, by placing an inductor in series between the AC input supply and the diode rectification circuit. A capacitor may also be provided in parallel between. this input inductor and the diode rectification circuit.\n\nThis input inductor may be a variable inductor that is controllable such that the at least one LED is dimmable. The use of a variable inductor may solely be for providing a dimming function, or may be for reducing the sensitivity of the LED power to fluctuations in the AC input supply in combination with providing a dimming function.\n\nA further broad aspect of the present invention provides a method of generating a DC output by using a valley-fill circuit including a first capacitor and a second capacitor, wherein the first and second capacitors have different capacitances such that a DC output voltage with reduced voltage ripple is gen- erated.\n\nuse an input may dently of providing reduction of voltage/current ripple and therefore according to another aspect of the invention there is also provided an LED lighting system comprising: an AC input power source, a rectification circuit for rectifying an AC input power and generating a rectified DC power, and an inductor provided in series between the AC input power source and the rectification circuit. Again, a capacitor may be provided in parallel between the inductor and the diode rec- tification circuit, the inductor being a variable inductor con- trollable such that the LED lighting system is dimmable. Also, the input inductor may be a variable conductor that is controllable that the LED is dimmable. lepen-\n\nBRIEF DESCRIPTION OF THE DRAWINGS\n\n] now be described the accompanying Some embodiments of the invention wi way of example and with reference to drawings, in which:\n\nFIG. 1 shows a schematic and power profiles of a typical off-line LED lighting system according to the prior art;\n\nFIG. 2 shows a schematic and \u201cmodified\u201d power profiles off-line LED lighting system according to an embodiment the invention;\n\nIn preferred embodiments of the invention the power sup- plied to the at least one LED is permitted to vary, and the operating and/or design parameters of the at least one LED are chosen such that the variation in luminous flux resulting from the variation in power is not observable to the human eye.\n\nFIGS. 3(a)-(c) show the variation of LED power and lumi- flux in an embodiment of the present invention;\n\nFIGS. 4(a), (6) and (c) show (a) a schematic diagram of assive off-line circuit design for an LED system using an inductor for current ripple reduction, and (b) and (c) using a coupled inductor for current ripple reduction;\n\nViewed from another broad aspect the present invention provides a method of operating a LED lighting system com- prising the steps of: (a) rectifying an AC input voltage to generate a rectified DC power, (b) reducing the voltage ripple of the rectified DC power, (c) generating a current source from the voltage ripple reduced rectified DC power, and (d) providing the current source as an input to at least one LED, wherein the power supplied to the at least one LED is permit- ted to vary by use of a variable inductor, and wherein the operating and/or design parameters of the at least one LED are chosen such that the variation in luminous flux resulting from the variation in power is not observable to the human\n\nFIG. 5 shows a schematic of an example of one possible hardware implementation of the proposed passive circuit off-line LED system using a standard valley-fill circuit;\n\nFIG. 6 shows a model used for simulation of the circuit 5;\n\nFIG. 7 shows an example of a proposed passive circuit standard valley-fill circuit for multiple loads;\n\nFIG. 8 shows an example of a proposed passive circuit using a valley-fill circuit with a voltage doubler for multiple loads;\n\nFIG. 9 shows an LED system according to an embodiment the invention under a simulation evaluation (L=1H);\n\nFIGS. 10(a) and (4) show (a) simulated input voltage and current of the system of FIG. 9, and (b) simulated input power the system of FIG. 9;\n\nPreferably a thermal characteristic of the at least one LED may be chosen such that the variation in luminous flux result- from the variation in power is not observable to the human.\n\ntor.\n\nand\n\nage\n\nSuch\n\nof\n\ninductor\n\nalso be useful in\n\nso\n\nlighting system\n\neye.\n\ning\n\n20\n\n35\n\n40\n\n45\n\n50\n\n55\n\neye. of\n\nor\n\nPreferably a valley-fill circuit is used to reduce the voltage ripple of the rectified DC power. The valley-fill circuit may include a voltage-doubler.\n\nof\n\nsaid\n\nin\n\nby\n\nof\n\nan\n\nof\n\nnous\n\na\n\nfor\n\nan\n\nin\n\nFIG.\n\nwith\n\na\n\nof\n\nof\n\nUS 8,482,214 B2\n\n6\n\n5\n\nbecomes less and therefore the size of the capacitance can be\n\nFIGS.11(a)-(d) show (a) simulated voltage and current of\n\nreduced to a level that other non-electrolytic capacitors can be\n\nthe LED module for the circuit of FIG.9, (b) simulated total\n\nused to replace the electrolytic capacitor. Furthermore as the\n\npower for the LED module and for individual LEDs in the\n\ncircuit contains only passive components rather than active\n\nmodule for the system in FIG.9, (c) and (d) two examples of\n\ncomponents complicated control circuitry (which may also\n\nthe relationship between a variation of LED power and lumi\n\n5\n\nrequire electrolytic capacitors) can be avoided.\n\nnous flux fluctuation for a LED system using 3 W LED\n\nIn addition to the elimination of electrolytic capacitors, the\n\ndevices;\n\ndesign is also concerned with the input power factor because\n\nFIG. 12 shows an LED system according to an embodi\n\nthere is an international standard IEC-61000 governing the\n\nment of the invention under a simulation evaluation (L-2H):\n\ninput power factor. Passive power correction circuits such as\n\nFIGS. 13(a)-(d) show (a) simulated input voltage and cur\n\n10\n\nvalley-fill circuits and their variants K. Kit Sum, \u201cImproved\n\nrent of the system of FIG. 12, (b) simulated input power of the\n\nValley-Fill Passive Current Shaper\u201d, Power System World\n\nsystem of FIG. 12, (c) and (d) two examples of the relation\n\n1997, p. 1-8; Lam, J.; Praveen, K.: \u201cA New Passive Valley Fill\n\nship between a variation of LED power and luminous flux\n\nDimming Electronic Ballast with Extended Line Current\n\nfluctuation for a LED system using 3 WLED devices;\n\nConduction Angle', INTELEC '06. 28th Annual Interna\n\nFIG. 14 shows an embodiment of a LED system with\n\n15\n\ntional Telecommunications Energy Conference, 2006. 10-14\n\n\u201ccoupled inductor of L-2H under simulation evaluation\n\nSep. 2006 Page(s): 1-7 can be used in the passive ballast\n\n(L=2H):\n\ncircuit in embodiments of this invention.\n\nFIGS. 15(a)-(d) show (a) simulated input voltage and cur\n\nValley-fill circuits allow the input current to be smoothed\n\nrent of the system of FIG. 14, (b) simulated input power of the\n\nso that the current distortion factor and thus the input power\n\nsystem of FIG. 14, (c) and (d) two examples of the relation\n\nfactor can be improved. The choice of the capacitors used in\n\nship between a variation of LED power and luminous flux\n\nthe valley-fill circuit can be made so that non-electrolytic\n\nfluctuation for a LED system using 3 WLED devices;\n\ncapacitors can be used. Unlike previous applications, the\n\nFIG. 16 shows a diode-clamp that may be added to each\n\nvalley-fill circuit is used in embodiments of this invention to\n\nLED string in embodiments of the invention;\n\nreduce the output voltage ripple which in turn will reduce the\n\nFIGS. 17(a) and (b) illustrate the use of the valley-fill\n\n25\n\ncurrent ripple in the later power stage. This aspect of the\n\ncircuit in reducing the Voltage ripple;\n\nvalley-fill circuit application has not been reported previously\n\nFIG. 18 shows a circuit according to a further embodiment\n\nbecause in the prior art valley-fill circuits were primarily used\n\nof the invention;\n\nfor Voltage source applications and were used as a means for\n\nFIGS. 19(a)-(d) show idealized waveforms in the circuit of\n\ninput powerfactor correction with their outputs are nominally\n\nFIG. 18;\n\n30\n\nconnected directly to another power converter or a load. For\n\nFIG. 20 shows a simplified equivalent circuit of FIG. 18;\n\nexample, in the National Semiconductor Note: LM3445 Triac\n\nFIG. 21 shows a vectorial relationship in the equivalent\n\nDimmable Offline LED Driver March 2009, the two capaci\n\ncircuit of FIG. 20;\n\ntors C7 and C9 in the valley-fill circuit are electrolytic capaci\n\nFIG.22 shows a circuit according to a still further embodi\n\ntors and the valley-fill circuit provides a \u201cvoltage source' to a\n\nment of the invention;\n\n35\n\nbuck converter which in turn controls the power of the LED\n\nFIG. 23 shows a circuit according to a still further embodi\n\nload. Such example of valley-fill circuit application high\n\nment of the invention;\n\nlights the traditional use of \u201celectrolytic capacitor\u201d in absorb\n\nFIG. 24 shows a circuit according to an embodiment of the\n\ning large power variation and the Voltage source nature of\n\ninvention in which the circuit includes a variable inductor L;\n\nprior art.\n\nFIG.25 shows the variable inductor L of FIG.24 based on\n\n40\n\nIn contrast in embodiments of the present invention valley\n\ntapping control;\n\nfill circuits are used to reduce the output Voltage ripple. As\n\nFIG. 26 shows the variable inductor L of FIG. 24 based on\n\nshown in FIG. 17(a), the output voltage of the diode rectifier\n\ncore Saturation;\n\nhas high Voltage ripple. However, the output Voltage of the\n\nFIG. 27 is a graph showing the output voltage of a diode\n\nvalley-fill circuit is significantly reduced as shown in FIG.\n\nbridge only circuit;\n\n45\n\n17(b). In embodiments of this invention, the valley-fill circuit\n\nFIG. 28(a) is a graph showing the output voltage of the\n\nis not connected directly to the load or another power con\n\ncircuit of FIG. 18 in which C1=C2=220 uF:\n\nVerter as in prior art, but is connected directly to an inductor\n\nFIG. 28(b) is a graph showing the output voltage of the\n\nora coupled-inductor based current ripple cancellation circuit\n\ncircuit of FIG. 18 in which C1=C2\u201322 uF:\n\nfor providing a smooth current to the LED load.\n\nFIG. 29 show capacitors C1 and C2 connected in series:\n\n50\n\nIn embodiments of the invention an inductor (FIG.4(a)) or\n\nand\n\na coupled inductor with ripple cancellation (FIG. 4(b)) may\n\nFIG.30 is a graph showing the output voltage of the circuit\n\nbe used to limit the output current ripple and hence the power\n\nof FIG. 18 in which C1=6600 uF and C2=330 uF.\n\nvariation for the LED load.\n\nFIG. 4(a) and FIG. 4(b) show schematic diagrams of pas\n\nDETAILED DESCRIPTION OF PREFERRED\n\n55\n\nsive circuits according to embodiments of the invention that\n\nEMBODIMENTS\n\ncan provide high reliability, long lifetime and low cost. Each\n\nOne important aspect of this invention at least in its pre\n\nsystem consists of a diode rectifier, a valley-fill circuit for\n\nimproving the input power factor, an inductor for turning the\n\nferred forms is to provide a way to reduce the size of the\n\ncapacitors that is needed so that capacitors other than the\n\nVoltage source into a current source with reduced current\n\n60\n\nelectrolytic type can be used. With electrolytic capacitors\n\nripple (FIG. 4(a)) and the LED load. An alternative embodi\n\neliminated in the lighting system, the whole system can be\n\nment as shown in FIG. 4(b) is to replace the inductor in FIG.\n\n4(a) with a coupled inductor and a capacitor So that these\n\nmore reliable and last longer.\n\ncomponents form a coupled inductor with current ripple can\n\nFIG. 2 is a modified version of FIG. 1 and is used to\n\nillustrate this aspect of the invention. If the LED load power is\n\ncellation function. It will be shown that such current ripple\n\n65\n\ncancellation which is commonly used in high-frequency\n\nallowed to fluctuate to Some extent, the amount of energy\n\n(greater than 20 kHz) Switching power Supplies can also be\n\nbuffer required in the energy-storage element of the system\n\nUS 8,482,214 B2\n\n6\n\n5\n\nbecomes less and therefore the size of the capacitance can be reduced toa level that other non-electrolytic capacitors can be used to replace the electrolytic capacitor. Furthermore as the circuit contains only passive components rather than active components complicated control circuitry (which may also require electrolytic capacitors) can be avoided.\n\nFIGS. 11(a)-(d) show (a) simulated voltage and current of the LED module for the circuit of FIG. 9, (b) simulated total power for the LED module and for individual LEDs in the module for the system in FIG. 9, (c) and (d) two examples of the relationship between a variation of LED power and lumi- nous flux fluctuation for a LED system using 3 W LED devices;\n\nIn addition to the elimination of electrolytic capacitors, the design is also concerned with the input power factor because there is an international standard IEC-61000 governing the input power factor. Passive power correction circuits such as valley-fill circuits and their variants [K. Kit Sum, \u201cImproved. Valley-Fill Passive Current Shaper\u201d, Power System World 1997, p. 1-8; Lam, J.; Praveen, K.; \u201cA New Passive Valley Fill Dimming Electronic Ballast with Extended Line Current Conduction Angle\u201d, INTELEC \u201906. 28th Annual Interna- tional Telecommunications Energy Conference, 2006. 10-14 Sep. 2006 Page(s): 1-7] can be used in the passive ballast circuit in embodiments of this invention.\n\nFIG. 12 shows an LED system according to an embodi- ment of the invention under a simulation evaluation (L=2H);\n\nFIGS. 13(a)-(d) show (a) simulated input voltage and cur- rent of the system of FIG. 12, (b) simulated input power of the system of FIG, 12, (c) and (d) two examples of the relation- ship between a variation of LED power and luminous flux fluctuation for a LED system using 3 W LED devices;\n\nFIG. 14 shows an embodiment of a LED system with \u201ccoupled inductor\u201d of L=2H under simulation evaluation (L=2H);\n\nFIGS. 15(a)-(d) show (a) simulated input voltage and cur- rent of the system of FIG. 14, (b) simulated input power of the system of FIG. 14, (c) and (d) two examples of the relation- ship between a variation of LED power and luminous flux fluctuation for a LED system using 3 W LED devices;\n\nValley-fill circuits allow the input current to be smoothed so that the current distortion factor and thus the input power factor can be improved. The choice of the capacitors used in the valley-fill circuit can be made so that non-electrolytic capacitors can be used. Unlike previous applications, the valley-fill circuit is used in embodiments of this invention to reduce the output voltage ripple which in turn will reduce the current ripple in the later power stage. This aspect of the valley-fill circuit application has not been reported previously because in the prior art valley-fill circuits were primarily used for voltage source applications and were used as a means for input power factor correction with their outputs are nominally connected directly to another power converter or a load. For example, in the National Semiconductor Note: LM3445 Triac Dimmable Offline LED Driver March 2009, the two capaci- tors C7 and C9 in the valley-fill circuit are electrolytic capaci- tors and the valley-fill circuit provides a \u201cvoltage source\u201d to a buck converter which in turn controls the power of the LED load. Such example of valley-fill circuit application high- lights the traditional use of \u201celectrolytic capacitor\u201d in absorb- ing large power variation and the voltage source nature of rior art.\n\nFIG. 16 shows a diode-clamp that may be added to each LED string in embodiments of the invention;\n\nFIGS. 17(a) and (5) illustrate the use of the valley-fill circuit in reducing the voltage ripple;\n\nFIG. 18 shows a circuit according to a further embodiment the invention;\n\nFIGS. 19(a)-(d) show idealized waveforms in the circuit 18;\n\nFIG. 20 shows a simplified equivalent circuit of FIG. 18; FIG. 21 shows a vectorial relationship in the equivalent circuit of FIG. 20;\n\nFIG. 22 shows a circuit according to a still further embodi- ment of the invention;\n\nFIG. 23 shows a circuit according to a still further embodi- of the invention;\n\nFIG. 24 shows a circuit according to an embodiment of invention in which the circuit includes a variable inductor\n\nFIG. 25 shows the variable inductor L, of FIG. 24 based control;\n\nIn contrast in embodiments of the present invention valley- fill circuits are used to reduce the output voltage ripple. As shown in FIG. 17(a), the output voltage of the diode rectifier has high voltage ripple. However, the output voltage of the valley-fill circuit is significantly reduced as shown in FIG. 17(6). In embodiments of this invention, the valley-fill circuit is not connected directly to the load or another power con- verter as in prior art, but is connected directly to an inductor oracoupled-inductor based current ripple cancellation circuit for providing a smooth current to the LED load.\n\nFIG. 26 shows the variable inductor L, of FIG. 24 based core saturation;\n\nFIG. 27 is a graph showing the output voltage of a diode bridge only circuit;\n\nFIG. 28(a) is a graph showing the output voltage of the circuit of FIG. 18 in which C1=C2=220 uF;\n\nFIG. 28(4) is a graph showing the output voltage of the circuit of FIG. 18 in which C1=C2=22 uP;\n\nFIG. 29 show capacitors C1 and C2 connected in series; and\n\nIn embodiments of the invention an inductor (FIG. 4(a)) coupled inductor with ripple cancellation (FIG. 4(4)) may used to limit the output current ripple and hence the power variation for the LED load.\n\nFIG. 30 is a graph showing the output voltage of the circuit FIG. 18 in which C1=6600 uF and C2=330 uF.\n\nDETAILED DESCRIPTION OF PREFERRED EMBODIMENTS\n\nFIG. 4(a) and FIG. 4(4) show schematic diagrams of pas- sive circuits according to embodiments of the invention that can provide high reliability, long lifetime and low cost. Each system consists of a diode rectifier, a valley-fill circuit for improving the input power factor, an inductor for turning the voltage source into a current source with reduced current ripple (FIG. 4(a)) and the LED load. An alternative embodi- ment as shown in FIG. 4(8) is to replace the inductor in FIG. 4(a) with a coupled inductor and a capacitor so that these components form a coupled inductor with current ripple can- cellation function. It will be shown that such current ripple cancellation which is commonly used in high-frequency (greater than 20 kHz) switching power supplies can also be\n\nOne important aspect of this invention at least in its pre- ferred forms is to provide a way to reduce the size of the capacitors that is needed so that capacitors other than the electrolytic type can be used. With electrolytic capacitors eliminated in the lighting system, the whole system can be more reliable and last longer.\n\nFIG. 2 is a modified version of FIG. 1 and is used to illustrate this aspect of the invention. Ifthe LED load power allowed to fluctuate to some extent, the amount of energy buffer required in the energy-storage element of the system\n\nof\n\nof\n\nFIG.\n\nment\n\nthe L,;\n\non\n\ntapping\n\non\n\nof\n\nis\n\n30\n\n35\n\n40\n\n45\n\nor\n\na\n\nbe\n\nUS 8,482,214 B2\n\n8\n\n7\n\neffective in low-frequency operation. The LED load could be\n\nmum power of the LED load as Pmax and Pmin, respectively\n\nan LED array or multiple arrays in modular forms. Various\n\nin FIG. 3(a). It has been shown that the relationship of the\n\nvalley-fill circuits or their improved versions can be used to\n\nluminous flux and the power of a LED system follows an\n\nasymmetric parabolic curve as shown in FIG.3(b) Hui S.Y.\n\nimprove the input power factor. In embodiments of this inven\n\ntion, non-electrolytic capacitors can be used in the valley-fill\n\nR. and Qin Y. X., \u201cGeneral photo-electro-thermal theory for\n\nlight-emitting diodes (LED) systems, IEEE Applied Power\n\ncircuit and current-ripple cancellation circuit. Either a stan\n\ndard valley-fill circuit, a valley-fill circuit with voltage dou\n\nElectronics Conference, February 2009, Washington D.C.,\n\nbler or any variant of the valley-fill circuit can be used in this\n\nUSA, paper 16.2: U.S. Ser. No. 12/370,101 the contents of\n\nwhich are incorporated herein by reference. If the LED sys\n\ninvention.\n\nConsidering firstly FIG. 4(a), let the output voltage of the\n\ntem is designed Such that Pmax and Pmin enclose the peak\n\n10\n\nvalley-fill circuit be V and the overall voltage of the LED\n\nregion of the luminous flux\u2014LED power curve where the\n\nslope of the curve is minimum as shown in FIG. 3(b), a\n\nmodule (with LED devices connected in series) beV.,. The\n\nsignificant variation of LED power (AP) will only lead to\n\ninductance of the inductor can be designed to limit the current\n\nthrough the LED module because the current ripple AI\n\ncan\n\na relatively small variation in the luminous flux (AcP). An\n\nbe expressed as:\n\nalternative is to design the LED thermal design so that P.\n\n15\n\nand P fall within a region of the luminous flux LED\n\npower curve where the slope of the curve is relatively small\n\n(i.e. near the peak value) as shown in FIG.3(c).\n\n(Vout - VLED)At\n\nAll ED =\n\nL\n\nIn this way, the control circuit can use non-electrolytic\n\ncapacitors without causing a large variation in the light output\n\nof the LED system. This concept can be implemented in\n\nwhere At is the time period during the current change.\n\nexisting electronic ballasts by replacing the electrolytic\n\nFrom the above equation, it can be seen that the size of the\n\ncapacitors with other capacitors of lower values and re-de\n\ninductor L can be used to reduce the current ripple, which in\n\nsigning the LED system so that the LED power variation falls\n\nturn can limit the change of total LED power because\n\nwithin the peak luminous flux region in the luminous flux\u2014\n\n25\n\nAFLED LEDAILED\n\nLED power curve.\n\nAnother important aspect of the present invention involves\n\nAn alternative shown in FIG. 4(b) is to use a coupled\n\nthe use of novel passive power circuits that can achieve the\n\ninductor with current ripple cancellation as described in the\n\nadvantages proposed above without using active electronic\n\nart Hamill, D.C.; Krein, P. T.; \u201cA Zero ripple technique\n\napplicable to any DC converter, 30th Annual IEEE Power\n\nswitches. Without using active electronics switches, the pro\n\n30\n\nElectronics Specialists Conference, 1999. PESC 99. Volume\n\nposed circuits do not need an electronic control circuit for the\n\nswitches and can be much more reliable, long-lasting and\n\n2, 27 Jun.-1 Jul. 1999 Page(s): 1165-1171; Schutten, M. J.;\n\nSteigerwald, R. L.; Sabate, J. A.; \u201cRipple current cancellation\n\nhave lower costs than their active electronic counterparts.\n\ncircuit\u201d Eighteenth Annual IEEE Applied Power Electronics\n\nFIG. 5 shows a circuit diagram based on a standard valley\n\nConference and Exposition, 2003. APEC03. Volume 1,9-13\n\nfill circuit. In the actual simulation as shown in FIG. 6, a small\n\n35\n\nFeb. 2003 Page(s): 464\u2013470; Cheng, D. K. W.; Liu, X.C.: Lee,\n\nnumber of LED devices are represented by individual diodes\n\nY. S.; A new improved boost converter with ripple free input\n\nand a large number of the LED devices are represented by an\n\nequivalent resistor that has the same Voltage drop and con\n\ncurrent using coupled inductors'. Seventh International Con\n\nsumes the same power of that group of LED devices when the\n\nference on Power Electronics and Variable Speed Drives,\n\n1998. (Conf. Publ. No. 456) 21-23 Sep. 1998 Page(s): 592\n\nrated current flow through these series connected devices. A\n\n40\n\n599). The primary winding of the coupled inductor is used as\n\nvalley-fill circuit with a voltage doubler as shown in FIG. 8\n\ncan also be used if desired. If multiple LED modules are used\n\nthe dc inductor just as in the embodiment of FIG. 4(a). The\n\nsecondary winding is coupled to the primary winding and\n\nas shown in FIG. 8, current-balancing devices can be added to\n\nprovides the accurrent to reduce the ripple in the load. When\n\nensure that each LED array module shares the same current.\n\nthe primary current in the first inductor is increasing into the\n\nIn order to illustrate this aspect of the present invention, the\n\n45\n\ndotted terminal of the primary winding (i.e. changing posi\n\npassive circuit of FIG.9 is used to drive a series of 3 WLEDs.\n\ntively), ac flux caused by the increasing primary current is\n\nIn the simulation, three diodes are used while the rest of the\n\ndiodes are represented as an equivalent resistor as explained\n\ncoupled to the secondary ac winding. The transformer action\n\npreviously. FIG.10(a) shows the simulated input voltage and\n\ncauses a current to flow out of the dotted terminal of the\n\nsecondary winding into a capacitor in order to cancel the ac\n\ncurrent of the entire system. It can be seen that the input\n\n50\n\ncurrent waveform is not a sharp pulse (as would be expected\n\nflux. Thus, the overall current ripple in the output of the\n\ncoupled inductor (including both primary and secondary\n\nfrom a diode bridge with an output capacitor) and the power\n\nwindings) and the load is reduced. Similarly, when the pri\n\nfactor has therefore been improved. FIG. 10(b) shows the\n\nmary current flowing into the dotted terminal of the primary\n\ninput power of the system. FIG. 11(a) shows the simulated\n\nwinding is decreasing (i.e. changing negatively), the ac flux\n\nvoltage and current of the LED module. The inductor is\n\n55\n\ncoupled to the secondary winding will cause a current to flow\n\ndesigned so that the LED rated current of 1 A (for the 3 W\n\ninto the dotted terminal of the secondary winding and hence\n\nLED devices) is not exceeded in this example. Despite the\n\npulsating input power, the reduction of the Voltage fluctuation\n\nreduce the overall current ripple of the couple inductor. The\n\neffect of the coupled inductor on reducing the current ripple is\n\ndue to the use of the valley-fill circuit and the filtering effect\n\nof the inductor have smoothed the load current considerably.\n\nillustrated in FIG. 4 (c).\n\n60\n\nIn embodiments of the present invention there will be fluc\n\nFIG. 11(b) shows the total LED power and individual LED\n\ntuation of the LED load power, but it is possible to obtain\n\npower. It can be seen that the power variation is within 1.2 W\n\nto 3 W (i.e. 60%) in this example. This simulation study\n\nluminous output from the LED system with minimum lumi\n\nconfirms that a passive circuit without electrolytic capacitors\n\nnous flux fluctuation even though the LED load power will\n\nfluctuate. This can be seen by considering the relationship\n\nand active Switches can be designed to provide a current\n\n65\n\nsource with controlled current ripple for a LED system with\n\nbetween the luminous flux (p and LED power P as shown in\n\ninput power factor correction.\n\nFIGS. 3(a)-(c). Let us label the maximum power and mini\n\nUS 8,482,214 B2\n\n7\n\n8\n\neffective in low-frequency operation. The LED load could be an LED array or multiple arrays in modular forms. Various valley-fill circuits or their improved versions can be used to improve the input power factor. In embodiments of this inven- tion, non-electrolytic capacitors can be used in the valley-fill circuit and current-ripple cancellation circuit. Either a stan- dard valley-fill circuit, a valley-fill circuit with voltage dou- bler or any variant of the valley-fill circuit can be used in this invention.\n\nmum power of the LED load as Pmax and Pmin, respectively in FIG, 3(a). It has been shown that the relationship of the luminous flux and the power of a LED system follows an asymmetric parabolic curve as shown in FIG. 3(6) [Hui S. Y. R. and Qin Y. X., \u201cGeneral photo-electro-thermal theory for light-emitting diodes (LED) systems\u201d, IEEE Applied Power Electronics Conference, February 2009, Washington D.C., USA, paper 16.2; U.S. Ser. No. 12/370,101 the contents of which are incorporated herein by reference]. Ifthe LED sys- tem is designed such that Pmax and Pmin enclose the peak region of the luminous flux\u2014LED power curve where the slope of the curve is minimum as shown in FIG. 3(d), a significant variation of LED power (AP, ;)) will only lead to a relatively small variation in the luminous flux (Ag,). An alternative is to design the LED thermal design so that P,,,.. and P,,,,,, fall within a region of the luminous flux\u2014LED power curve where the slope of the curve is relatively small (i.e. near the peak value) as shown in FIG. 3(c).\n\nConsidering firstly FIG. 4(a), let the output voltage of the valley-fill circuit be V,,, and the overall voltage of the LED module (with LED devices connected in series) be V; -. The inductance of the inductor can be designed to limit the current through the LED module because the current ripple AI, -,can be expressed as:\n\nVour ~ Vip Aligy = Yaa We\n\nIn this way, the control circuit can use non-electrolytic capacitors without causing a large variation in the light output of the LED system. This concept can be implemented in existing electronic ballasts by replacing the electrolytic capacitors with other capacitors of lower values and re-de- signing the LED system so that the LED power variation falls within the peak luminous flux region in the luminous flux\u2014 LED power curve.\n\nwhere At is the time period during the current change.\n\nFrom the above equation, it can be seen that the size of inductor L can be used to reduce the current ripple, which turn can limit the change of total LED power because\n\nAPiep=ViepAliep\n\nAnother important aspect of the present invention involves the use of novel passive power circuits that can achieve the advantages proposed above without using active electronic switches. Without using active electronics switches, the pro- posed circuits do not need an electronic control circuit for the switches and can be much more reliable, long-lasting and have lower costs than their active electronic counterparts.\n\ninductor with current ripple cancellation as described in the art [Hamill, D. C.; Krein, P. T.; \u201cA \u2018zero\u2019 ripple technique applicable to any DC converter\u201d, 30th Annual IEEE Power Electronics Specialists Conference, 1999, PESC 99. Volume 2, 27 Jun.-1 Jul. 1999 Page(s): 1165-1171; Schutten, M. J.; Steigerwald, R. L.; Sabate, J. A.; \u201cRipple current cancellation circuit\u201d Eighteenth Annual IEEE Applied Power Electronics Conference and Exposition, 2003. APEC \u00b003. Volume 1, 9-13 Feb. 2003 Page(s): 464-470; Cheng, D. K. W.; Liu, X.C.; Lee, Y.S.; \u201cA new improved boost converter with ripple free input current using coupled inductors\u201d, Seventh International Con- ference on Power Electronics and Variable Speed Drives, 1998. (Conf. Publ. No. 456) 21-23 Sep. 1998 Page(s): 592- 599]. The primary winding of the coupled inductor is used as the de inductor just as in the embodiment of FIG. 4(a). The secondary winding is coupled to the primary winding and provides the ac current to reduce the ripple in the load. When the primary current in the first inductor is increasing into the dotted terminal of the primary winding (i.e. changing posi- tively), ac flux caused by the increasing primary current is coupled to the secondary ac winding. The transformer action causes a current to flow out of the dotted terminal of the secondary winding into a capacitor in order to cancel the ac flux. Thus, the overall current ripple in the output of the coupled inductor (including both primary and secondary windings) and the load is reduced. Similarly, when the pri- mary current flowing into the dotted terminal of the primary winding is decreasing (i.e. changing negatively), the ac flux coupled to the secondary winding will cause a current to flow into the dotted terminal of the secondary winding and hence reduce the overall current ripple of the couple inductor. The effect of the coupled inductor on reducing the current ripple is illustrated in FIG. 4 (c).\n\nFIG. 5 shows a circuit diagram based ona standard valley- fill circuit. In the actual simulation as shown in FIG. 6, a small number of LED devices are represented by individual diodes and a large number of the LED devices are represented by an equivalent resistor that has the same voltage drop and con- sumes the same power of that group of LED devices when the rated current flow through these series connected devices. A valley-fill circuit with a voltage doubler as shown in FIG. 8 can also be used if desired. Ifmultiple LED modules are used as shown in FIG. 8, current-balancing devices can be added to ensure that each LED array module shares the same current.\n\naspect present passive circuit of FIG. 9 is used to drive a series of 3 W LEDs. In the simulation, three diodes are used while the rest of the diodes are represented as an equivalent resistor as explained previously. FIG. 10(a) shows the simulated input voltage and current of the entire system. It can be seen that the input current waveform is not a sharp pulse (as would be expected from a diode bridge with an output capacitor) and the power factor has therefore been improved. FIG. 10(6) shows the input power of the system. FIG. 11(a) shows the simulated voltage and current of the LED module. The inductor is designed so that the LED rated current of 1 A (for the 3 W LED devices) is not exceeded in this example. Despite the pulsating input power, the reduction of the voltage fluctuation. due to the use of the valley-fill circuit and the filtering effect of the inductor have smoothed the load current considerably. FIG. 11(5) shows the total LED power and individual LED power. It can be seen that the power variation is within 1.2 W to 3 W (i.e. 60%) in this example. This simulation study confirms that a passive circuit without electrolytic capacitors and active switches can be designed to provide a current source with controlled current ripple for a LED system with\n\nIn embodiments of the present invention there will be fluc- tuation of the LED load power, but it is possible to obtain luminous output from the LED system with minimum lumi- nous flux fluctuation even though the LED load power will fluctuate. This can be seen by considering the relationship between the luminous flux \u4e2d, and LED power P, as shown in FIGS. 3(a)-(c). Let us label the maximum power and mini-\n\nAt\n\nthe in\n\nAn alternative shown in FIG. 4(6) is to\n\nuse\n\na coupled\n\n10\n\n15\n\n20\n\n25\n\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\nIn order to illustrate this\n\nof the\n\ninvention, the\n\ninput power factor correction.\n\nUS 8,482,214 B2\n\n9\n\n10\n\nBy using a suitable thermal design the power variation\n\nThis per-unit result of LED power in FIG. 11 can be inter\n\npreted with typical LED systems with different thermal\n\nrange of the LED load can be designed to fall within the\n\ndesigns. For example, it has been shown that the luminous\n\nregion of the luminous flux\u2014LED power curve where the\n\nflux\u2014LED power curves depend on the thermal resistance of\n\nslope is Small and the luminous flux is maximum or near\n\nthe heatsinks. FIG. 11(c) and FIG.11(d) show typical curves\n\nmaximum.\n\n5\n\nfor LED systems using two different heatsinks for eight 3 W\n\nAs a consequence of the requirement of only Small capaci\n\nLEDs. The heatsink used for FIG. 11(c) is smaller than that\n\ntance in the proposed system, electrolytic capacitors can be\n\nfor FIG.11(d). For the example in FIG.11(c), a 60% variation\n\neliminated from this design. Since the entire circuit consists\n\nfrom 1.2W to 3 W for each device will lead to about 24% of\n\nof passive and robust components (such as power diodes,\n\nlight variation. For the example of FIG.11(d), a 60% variation\n\n10\n\nnon-electrolytic capacitors and inductors) only and does not\n\nof LED power leads to 30% of light variation.\n\nneed extra control electronics, it features low-cost, high\n\nHowever, it is important to note that the choice of induc\n\nrobustness and reliability.\n\ntance of the inductor can control the current ripple and there\n\nOne possible issue, however, is that the abovedescribed\n\nfore the LED power variation. If the inductance L is increased\n\ncircuits assume a reasonably constant input Voltage which\n\nfrom 1H to 2H (FIG. 12), the simulated LED voltage and\n\n15\n\nmay not necessarily be true. In countries where the AC mains\n\ncurrent waveforms are plotted in FIG. 13(a). The correspond\n\nSupply is unreliable or in any other situation where there may\n\ning total LED power and individual LED power are included\n\nbe AC mains voltage fluctuation for whatever reason, there\n\nin FIG. 13(b).\n\ncould be a significant variation in the LED power for a given\n\nIt can be seen that, with L increased to 2H, the power\n\nnominal AC input voltage. In preferred embodiments of the\n\nvariation (from 1.6 W to 2.5 W) is 36%. If the same power\n\ninvention therefore it may be preferable to provide a means\n\nvariation is applied to the two examples in reference Hui etal\n\nfor controlling the power sensitivity of the load against AC\n\nHui S.Y. R. and Qin Y. X., \u201cGeneral photo-electro-thermal\n\ntheory for light-emitting diodes (LED) systems, IEEE\n\nVoltage fluctuation.\n\nApplied Power Electronics Conference, February 2009,\n\nFIG. 18 shows one example of a circuit provided with\n\nWashington D.C., USA, paper 16.2, FIG. 13(c) and FIG.\n\nmeans for controlling the power sensitivity of the load against\n\n25\n\n13(d) show that the variation in the luminous flux is approxi\n\nAC Voltage fluctuation. In this example a passive ballast for\n\nmately 7% and 12%, respectively. It is envisaged that human\n\nan LED system is shown provided with a diode rectifier, a\n\neyes are not sensitive to Such small changes of luminous flux\n\nvalley-fill circuit for reducing the voltage ripple of the recti\n\nvariation.\n\nfied DC power, and a filter inductor L for generating a current\n\nIt can be seen that a large inductance can reduce the current\n\n30\n\nsource provided to the LED load. It will be understood that as\n\nripple and LED power variation. The choice of L depends also\n\ndescribed above the inductor L could instead by replaced by\n\non the core loss and copper loss in the inductor. The overall\n\na current ripple reduction circuit comprising a coupled induc\n\ndesign therefore relies on the thermal design as explained in\n\ntor with a capacitor. In this circuit an input inductor L is\n\nHuietal and the choice of L. So that the operating range can be\n\nprovided in series between the AC supply Vs and the diode\n\nrestricted to the region of the luminous flux\u2014LED power\n\n35\n\nrectifier which as will be explained below provides the nec\n\ncurve where the slope of the curve is small.\n\nessary power sensitivity control.\n\nAn effective method to further reduce the current ripple and\n\nFIGS. 190a)-(d) show the idealized waveforms of the pro\n\nthus LED power variation and light variation is to replace the\n\nposed AC-DC current source circuit for LED loads. In par\n\ninductor in FIG. 9 and FIG. 12 with a current-ripple cancel\n\nticular: FIG. 190a) shows idealized waveforms of input AC\n\nlation means in the form of a coupled inductor and a capacitor\n\n40\n\nmains Voltage and current (with a phase shift (p) between V.\n\nas shown in FIG. 14. FIG. 15(a) and FIG. 15(b) show the\n\nand I); FIG. 19(b) shows idealized waveforms of input volt\n\nelectrical measurements of the system. It can be seen the\n\nvariations in the LED current ripple and power have been\n\nage V and current I of the diode rectifier (with V and I in\n\ngreatly reduced. The power variation is only within 0.2 W\n\nphase); FIG. 190c) shows idealized waveforms of output volt\n\n(from 1.9W to 2.1 W). This 9% power variation will lead to\n\nage V and current I of the valley-fill circuit (with V a\n\n45\n\nless than 4% of light variation in the two examples as shown\n\nrectified version of V); and FIG. 190d) shows idealized\n\nin FIG. 15(c) and FIG. 15(d).\n\nwaveforms of voltage across LED load (V), output load\n\nIt should also be noted that it may be desirable to provide a\n\ncurrent (I) and the output load power (P).\n\ndiode-capacitor clamp that can be added to each LED string to\n\nAn analysis of this circuit can start from the load side by\n\nprovide a current path for the inductor current in case some of\n\nconsidering the equivalent circuit as shown in FIG. 20 where\n\n50\n\nthe LED devices fail. An example of such a possibility is\n\nthe inductor winding resistance is shown as R and the total\n\nshown in FIG. 16.\n\nLED load voltage drop Vo is considered to be constant.\n\nFrom the above it will be seen that in preferred embodi\n\nFrom FIG. 20, the average output current I can be\n\nments of the present invention there is proposed the use of a\n\nexpressed as:\n\npassive power correction circuit Such as the valley-fill circuit\n\n55\n\nto reduce the Voltage ripple feeding the inductor (or coupled\n\ninductor with a capacitor in the form of current ripple cancel\n\nV3 - V,\n\n(1)\n\nlation circuit) and the LED modules in order to (i) reduce the\n\ncurrent ripple and thus the power variation in the LEDs and\n\n(ii) to improve the input power factor. The allowance of some\n\n60\n\nwhere V is the average voltage of V.\n\ncurrent and power variation in the LEDs within the region of\n\nFrom the waveform of V in FIG. 19(c),\n\nthe luminous flux\u2014LED power curve where the slope of the\n\ncurve is small will lead to only a small variation of the lumi\n\nnous flux from the LED system. The use of the inductance of\n\n3\n\n(2)\n\nthe inductor or coupled inductor in the form of a current ripple\n\n65\n\ncancellation circuit to further limit the power variation of the\n\nLED system.\n\nUS 8,482,214 B2\n\n10\n\n9\n\nThis per-unit result of LED power in FIG. 11 can be inter- preted with typical LED systems with different thermal designs. For example, it has been shown that the luminous flux\u2014LED power curves depend on the thermal resistance of the heatsinks. FIG. 11(c) and FIG. 11(d) show typical curves or LED systems using two different heatsinks for eight 3 W LEDs. The heatsink used for FIG. 11(c) is smaller than that \u2018or FIG. 11(d). For the example in FIG. 11(c), a 60% variation rom 1.2 W to 3 W for each device will lead to about 24% of ight variation. For the example of FIG. 11(d), a 60% variation of LED leads to 30% of light variation.\n\nBy using a suitable thermal design the power variation range of the LED load can be designed to fall within the region of the luminous flux\u2014LED power curve where the slope is small and the luminous flux is maximum or near maximum.\n\nAs a consequence of the requirement of only small capaci- tance in the proposed system, electrolytic capacitors can be eliminated from this design. Since the entire circuit consists of passive and robust components (such as power diodes, non-electrolytic capacitors and inductors) only and does not need extra control electronics, it features low-cost, high robustness and reliability.\n\nHowever, it is important to note that the choice of induc- tance of the inductor can control the current ripple and there- ore the LED power variation. If the inductance L is increased from 1H to 2H (FIG. 12), the simulated LED voltage and current waveforms are plotted in FIG. 13(a). The correspond- ing total LED power and individual LED power are included. in FIG, 13(d).\n\nOne possible issue, however, is that the abovedescribed circuits assume a reasonably constant input voltage which may not necessarily be true. In countries where the AC mains supply is unreliable or in any other situation where there may be AC mains voltage fluctuation for whatever reason, there could be a significant variation in the LED power for a given nominal AC input voltage. In preferred embodiments of the invention therefore it may be preferable to provide a means for controlling the power sensitivity of the load against AC voltage fluctuation.\n\nIt can be seen that, with L increased to 2H, the power variation (from 1.6 W to 2.5 W) is 36%. If the same power variation is applied to the two examples in reference Hui et al [Hui S. Y. R. and Qin Y. X., \u201cGeneral photo-electro-thermal theory for light-emitting diodes (LED) systems\u201d, [EEE Applied Power Electronics Conference, February 2009, Washington D.C., USA, paper 16.2], FIG. 13(c) and FIG. 13(d) show that the variation in the luminous flux is approxi- mately 7% and 12%, respectively. It is envisaged that human eyes are not sensitive to such small changes of luminous flux variation.\n\nFIG. 18 shows one example of a circuit provided with means for controlling the power sensitivity of the load against AC voltage fluctuation. In this example a passive ballast for an LED system is shown provided with a diode rectifier, a valley-fill circuit for reducing the voltage ripple of the recti- fied DC power, and a filter inductor L for generating a current source provided to the LED load. It will be understood that as described above the inductor L could instead by replaced by acurrent ripple reduction circuit comprising a coupled induc- tor with a capacitor. In this circuit an input inductor L, is provided in series between the AC supply Vs and the diode rectifier which as will be explained below provides the nec- control.\n\nIt can be seen that a large inductance can reduce the current ripple and LED power variation. The choice of L depends also on the core loss and copper loss in the inductor. The overall design therefore relies on the thermal design as explained in Hui et al and the choice of L so that the operating range can be restricted to the region of the luminous flux\u2014LED power curve where the slope of the curve is small.\n\nAneffective method to further reduce the current ripple and thus LED power variation and light variation is to replace the inductor in FIG. 9 and FIG. 12 with a current-ripple cancel- lation means in the form ofa coupled inductor and a capacitor as shown in FIG. 14. FIG. 15(a) and FIG. 15(6) show the electrical measurements of the system. It can be seen the variations in the LED current ripple and power have been greatly reduced. The power variation is only within 0.2 W (from 1.9 W to 2.1 W). This 9% power variation will lead to less than 4% of light variation in the two examples as shown in FIG, 15(c) and FIG. 15(d).\n\nFIGS. 19(a)-(d) show the idealized waveforms of the pro- posed AC-DC current source circuit for LED loads. In par- ticular: FIG. 19(a) shows idealized waveforms of input AC mains voltage and current (with a phase shift (6) between V, and 1,); FIG. 19(4) shows idealized waveforms of input volt- age V, and current I, of the diode rectifier (with V, and I, in phase); FIG. 19(c) shows idealized waveforms of output volt- age V, and current I, of the valley-fill circuit (with V, a rectified version of V,); and FIG. 19(@) shows idealized waveforms of voltage across LED load (V,), output load. current (I,,) and the output load power (P,,).\n\nIt should also be noted that it may be desirable to provide diode-capacitor clamp that can be added to each LED string to provide a current path for the inductor current in case some of LED devices fail. An example of such a possibility is shown in FIG. 16.\n\nAn analysis of this circuit can start from the load side considering the equivalent circuit as shown in FIG. 20 where inductor winding resistance is shown as R and the total LED load voltage drop Vo is considered to be constant.\n\nFrom FIG. 20, the average output current L can be expressed as:\n\nseen preferred ments of the present invention there is proposed the use of a passive power correction circuit such as the valley-fill circuit to reduce the voltage ripple feeding the inductor (or coupled inductor with a capacitor in the form of current ripple cancel- lation circuit) and the LED modules in order to (i) reduce the current ripple and thus the power variation in the LEDs and (ii) to improve the input power factor. The allowance of some current and power variation in the LEDs within the region of the luminous flux\u2014LED power curve where the slope of the curve is small will lead to only a small variation of the lumi- nous flux from the LED system. The use of the inductance of the inductor or coupled inductor in the form of a current ripple cancellation circuit to further limit the power variation of the\n\n(dy\n\nwhere Va is the average voltage of V3.\n\nFrom the waveform of V; in FIG. 19(c),\n\n3 (2)\n\npower\n\na\n\nthe\n\nFrom the above it will be\n\nthat in\n\nembodi-\n\nLED system.\n\n40\n\n45\n\n50\n\n60\n\n65\n\nessary power sensitivity\n\nby\n\nthe\n\nUS 8,482,214 B2\n\n11\n\n12\n\ncontinued\n\nWs - V2\n\n=\n\n(11)\n\n(3)\n\nW\n\ny\n\n(V LR\n\ndc = 3 3 = (V, + I.R)\n\n\"T 0.974. (Ls\n\nDifferentiating (11) will lead to\n\nIt should be noted that the total voltage drop of the LED\n\nload is approximated as a constant V. Therefore, V does not\n\nchange significantly if I does not change significantly. In\n\ngeneral, V is much bigger than IR. Thus V is close to 1.33\n\nAVs\n\n(12)\n\nAlo = 0.0741.\n\nV. The next issue is to find out away to reduce the change of to\n\nI due to fluctuation in the input mains Voltage.\n\nBy the law of conservation of energy, input power is equal\n\nEquation (12) is the important equation which shows that\n\nto the power entering the diode bridge, assuming that the\n\nthe input inductance LS can be used to reduce the change of\n\ninput inductor L has negligible resistance. Also and note that\n\naverage output load current AI for a given change in the input\n\nV, and Is are in phase as shown in FIG. 19(b).\n\nAC mains Voltage AVs. Take an example. For an AC mains of\n\n15\n\n50 Hz, the angular frequency () is equal to 100TL, that is\n\nVSIs coS p-21s\n\n(4)\n\n3.14.16. Foran Ls of 1H, the effect of input voltage fluctuation\n\nwhere V is the fundamental component of V.\n\non the output average current will be reduced by 3.14.16 times\n\nSimilarly, the input power is also equal to the output power\n\nas shown in (12). For an Ls of 2H, the reduction will be 618\n\nof the valley-fill circuit, assuming that the power loss in the\n\ntimes. For this sensitivity control to be effective, the size of\n\ndiode rectifier and valley-fill circuit is negligible.\n\nthe input inductor LS has to be reasonably large (typically\n\nnear to or in the order of Henry).\n\nIn order to provide a conducting path for the inductor\n\n, ,\n\n, ,\n\n;\n\n2. ,\n\n(5)\n\ncurrent in LS in case there is any problem in other part of the\n\nViscost = Valo = i Vael. = I.R + 1.V.\n\ncircuit which may create a discontinuation of current, a\n\n25\n\ncapacitor Cs can be placed to the second end of the input\n\ninductor as shown in FIG. 22. This LSCs arrangement will\n\nIf the inductor winding resistance is negligible, R=0, lead\n\ning to\n\nalso play the additional role of input filter. But the main\n\npurpose of using a \"large LS here is to reduce the sensitivity\n\nof the output load current (and thus output load power) of the\n\n30\n\nproposed circuit to input Voltage fluctuation.\n\n3\n\n(6)\n\nV = avac\n\nIn order to relate I with Vs, we start with modifying (9)\n\nwith the help of (7b) and (8) gives:\n\nUsing Fourier analysis on the waveform of V, the funda\n\nV\u2019=(0.77V)2+foL(0.974I)?\n\n35\n\n(13)\n\nmental component V of V can be determined as:\n\nUsing (6), (13) becomes:\n\n(2 -- V2)V.\n\n(7a)\n\nV21 =\n\nsin(ot - d.) = 1.086. Wiesin(cot - d.)\n\nV = (0.77(v. +(a)L(0.9747.)\n\n(14)\n\n40\n\nThe root-mean-square value of V is therefore\n\nSolving (14) gives:\n\n45\n\nV.,... v. = 0.77. V\n\n(7b)\n\n2i is = Wic\n\nJ.\n\nWic\n\n\" V2\n\nV V - (1.072. V.)?\n\n(15)\n\n\n\n0.974. GoL\n\nDividing (4) by (5) to relate V and V, and using (7b).\n\none can relate I and I.\n\nNote that V can be determined from the number of LED\n\n50\n\ndevices in the LED strings. If Ls is chosen, then (15) provides\n\n0.77VI\u20140.75 V.I.) I-0.974I.\n\n(8)\n\nthe relationship between the average output current and the\n\nNow consider the equivalent circuit and the vectorial rela\n\ninput ac mains Voltage.\n\ntionship between V and V, as shown in FIG. 21.\n\nThe LED load power is therefore:\n\nFrom FIG 21\n\n55\n\nV V - (1.072. V.)?\n\nand\n\nP,\n\n0.974. GoL\n\n60\n\nFrom the above it can be seen that by providing an input\n\n}\n\n(10)\n\ninductor in series between the AC supply voltage and the\n\ndiode rectifier the sensitivity of the LED power to fluctuation\n\nin the AC Supply Voltage can be reduced.\n\nIndeed the provision of an input inductor in series between\n\nFrom (6), it can be seen that V depends on V, which is\n\n65\n\napproximately close to 1.33V (approximated as a constant\n\nthe AC supply voltage and the diode rectifier may have useful\n\napplications as a means for limiting variations in the power of\n\nvalue). With the help of (8),\n\nUS 8,482,214 B2\n\n12\n\n11\n\n-continued\n\n\u4e86 _ \u00a5s\u2014Va \u00a9 0.974-oLs ab\n\nIt should be noted that the total voltage drop of the LED load is approximated as aconstant V,,. Therefore, V z,.does not change significantly if I, does not change significantly. In general, V, is much bigger thanI,R. Thus Vj, is close to 1.33 V,,. The next issue is to find out a way to reduce the change of I, due to fluctuation in the input mains voltage.\n\nDifferentiating (11) will lead to\n\n7 _ Avs \u00a9 0.974-wLs (2)\n\nBy the law of conservation of energy, input power is equal the power entering the diode bridge, assuming that the input inductor L, has negligible resistance. Also and note that V,, and I, are in phase as shown in FIG. 19().\n\nEquation (12) is the important equation which shows that the input inductance Ls can be used to reduce the change of average output load current AI, fora given change in the input AC mains voltage AV s. Take an example. For an AC mains of 50 Hz, the angular frequency m is equal to 100m, that is 314.16. Foran Ls of 1H, the effect of input voltage fluctuation on the output average current will be reduced by 314.16 times as shown in (12). For an Ls of 2H, the reduction will be 618 times. For this sensitivity control to be effective, the size of the input inductor Ls has to be reasonably large (typically near to or in the order of Henry).\n\n(a)\n\nVols cos $F ols\n\nYai is the fundamental component\n\npower output power of the valley-fill circuit, assuming that the power loss in the diode rectifier and valley-fill circuit is negligible.\n\nIn order to provide a conducting path for the inductor current in Ls in case there is any problem in other part of the circuit which may create a discontinuation of current, a capacitor Cs can be placed to the second end of the input inductor as shown in FIG. 22. This LsCs arrangement will also play the additional role of input filter. But the main purpose of using a \u201clarge\u201d Ls here is to reduce the sensitivity of the output load current (and thus output load power) of the proposed circuit to input voltage fluctuation.\n\nv7 .3y.7 Peed (3) VsIgcos = Vsle = 7 Miclo = TER + loo\n\nIf the inductor winding resistance is negligible, R=0. to\n\n3 6 Vo = 3 Mec \u00a9\n\nIn order to relate T with Vs, we start with modifying (9) with the help of (7b) and (8) gives:\n\nUsing Fourier analysis on the waveform of V,, the funda- mental component V,, of V, can be determined as:\n\nV2-(0.71\u00a5 4.) + OL (0.9741, (13)\n\nUsing (6), (13) becomes:\n\n2+ V2)\\, (7a) = eV? Me ston 0) = 1.086- Vucsin(ot \u2014 2)\n\nVie [| + [eoLs(0.9741,)F op\n\n40\n\nThe root-mean-square value of V3, is therefore\n\nSolving (14) gives:\n\nv5), 1086 oy carry, (7b) \u20182I_rms Vo de = Me de\n\nDividing (4) by (5) to relate V,, and V,,,, and using (7b), one can relate I, and I,.\n\nNote that V, can be determined from the number of LED devices in the LED strings. If Ls is chosen, then (15) provides relationship between the average output current and input ac mains voltage.\n\nO.7 TF ycls-0.75 Fp], [0.9741 (8)\n\nNow consider the equivalent circuit and the vectorial between V, and V,, as shown in FIG. 21.\n\nThe LED load power is therefore:\n\nFrom FIG, 21\n\n55\n\nVe-VPHOL sly (9)\n\nVy 072-V,) Mo\" Tool,\n\nand\n\n60\n\nVv, \u4e00 Va (10) jols\n\nFrom the above it can be seen that by providing an input inductor in series between the AC supply voltage and diode rectifier the sensitivity of the LED power to fluctuation the AC supply voltage can be reduced.\n\nIndeed the provision of an input inductor in series between. the AC supply voltage and the diode rectifier may have useful applications as a means for limiting variations in the power of\n\nFrom (6), it can be seen that V,, depends on V,,, which is approximately close to 1.33V, (approximated as a constant value). With the help of (8),\n\n(3)\n\n5\n\nto\n\nwhere Similarly, the input\n\nof V,. is also equal to the\n\nlead-\n\ning\n\nVor\n\nrela-\n\ntionship\n\nie\n\n15\n\n25\n\n30\n\n35\n\n45\n\n50\n\n(15)\n\nthe\n\nthe\n\nthe\n\nin\n\nUS 8,482,214 B2\n\n13\n\n14\n\ncuits have also been Suggested for power factor correction.\n\nthe LED load in circuits that do not include voltage ripple\n\nTwo common features shared by these valley-fill applications\n\nreduction. FIG. 23 shows an example of such a circuit where\n\nare (i) the valley-fill circuits are used primarily for shaping the\n\nthe input inductor L is provided in series between the AC\n\nsupply voltage V and a diode rectifier the output of which is\n\ninput current in the AC-DC power conversion circuit for\n\nimproving the power factor and (ii) use capacitors of equal\n\nprovided directly to the load. As with the circuit of FIG.22 a\n\ncapacitor C may be provided in parallel between the input\n\ncapacitance value in the individual circuits.\n\ninductor and the diode rectifier to provide a conducting path\n\nAs described above, valley-fill circuits are used for reduc\n\nin the event of any short-circuit or other problem in another\n\ning the output DC voltage ripple or variation so that a fairly\n\npart of the circuit, and also to provide a filtering function.\n\nconstant current source can be generated with the help of a\n\nIn another embodiment, the lighting system described\n\n10\n\nfilter inductor. One preferred embodiment of such a circuit is\n\nabove can become a dimmable system by using a variable\n\nshown in FIG. 18. In traditional applications of valley-fill\n\ninput inductor L, as shown in FIG. 24. As explained previ\n\ncircuits, the two capacitors C1 and C2 are of the same capaci\n\nously, the use of the input inductor of a reasonably large size\n\ntance value. This will allow the output voltage to be smaller\n\nis to reduce the LED power sensitivity against input Voltage\n\nthan that of a diodebridge, i.e. the output Voltage ripple can be\n\nvariation. The relationship of the variation of the output cur\n\n15\n\nreduced by about 50%.\n\nrent (which affects the LED power) with the input voltage\n\nIf the valley-fill circuit in FIG. 18 is not used, the front-end\n\nvariation has been shown as:\n\ndiode rectifier provides a rectified output voltage as shown in\n\nFIG. 27. It can be seen that the rectified DC voltage peaks at\n\nthe maximum value of the input sinusoidal Voltage and then\n\nAVs\n\nA =\n\n\n\ndrops to zero. However, when the valley-fill circuit is pro\n\n0.974. GoLs\n\nvided with C1-C2=220 uF, the output DC voltage feeding the\n\nfilter inductor L and LED load has a much reduced voltage\n\nThe output dc current can be expressed as:\n\nripple as displayed in FIG. 28(a). In this case, the maximum\n\nvoltage is close to 18OV and minimum voltage is close to 90V.\n\n25\n\nIt should be noted that Smaller capacitors such as\n\nI = Ws - W21\n\nC1=C2=22 uF can also be used. For capacitance of this low\n\nT 0.974. GoLs\n\nmagnitude, electrolytic capacitors which have short lifetimes\n\nare not needed. FIG. 28(b) shows the output DC voltage of the\n\nvalley-fill circuit with these smaller capacitors. Also voltage\n\nThis equation means that the size of the input inductor can\n\n30\n\ncharging and discharging in the capacitors becomes obvious,\n\naffect the power of the LED load. If the inductance of the\n\ninput inductor LS can be changed, a dimming function\n\nas shown in FIG.28(b), but the average voltage is close to that\n\nbecomes possible. By using a variable inductor LS as shown\n\nin FIG. 28(a).\n\nin FIG. 24, the power control of the LED load can be\n\nIn the cases of FIG. 28(a) and FIG. 28(b), the output DC\n\nvoltage ripple is about 50% of the maximum value. This is a\n\nachieved.\n\n35\n\ntypical feature of valley-fill circuits where C1 and C2 are\n\nThe variable inductor can be implemented in various\n\nidentical. When the voltage V is at its peak, the output volt\n\nforms. For example, FIG. 25 shows an inductor with tapping\n\nage of the valley-fill circuit, which is clamped by the voltage\n\ncontrol. By controlling the switch or switches, labeled as S1\n\nand S2 in the present embodiment, to determine the number\n\nacross the LED load, will reach its maximum value. The\n\nrectified input current charges the two identical capacitors C1\n\nof turns in the inductor, the inductance value can be con\n\n40\n\nand C2 through the diode D equally and hence the two\n\ntrolled. FIG. 26 shows another implementation of a variable\n\ncapacitor Voltages are equal at this moment. Note that this\n\ninductor using a DC current in an auxiliary winding to alter\n\nthe magnetic property (Such as saturation level) of the core in\n\nvoltage for C2 (half of the maximum DC voltage) is the\n\nmaximum voltage of C2. Therefore, only full maximum volt\n\norder to vary the inductance value.\n\nage or half maximum Voltage levels appear in the output\n\nA further aspect of the invention refers more generally to\n\n45\n\nvalley-fill circuits used in reducing the DC output voltage\n\nvoltage of the valley-fill circuit if C1 and C2 are large enough\n\nand of equal capacitance. Note that the lower DC voltage is\n\nripple and/or current ripple in AC-DC power conversion.\n\nactually the voltage across C2. With a voltage ripple reduced\n\nBased on the ratio of the capacitors used in the valley-fill\n\ncircuits, the output voltage ripple can be further controlled\n\nto 50%, the size of the filter inductor L can be reduced too.\n\nHowever, the output DC voltage of the valley-fill circuit\n\nand reduced. Thus, it can be used to provide a DC voltage\n\n50\n\ncan be further reduced so as to further reduce the output ripple\n\nSource with an even more reduced Voltage variation than that,\n\nfor example, described above. Further, if an inductor is con\n\nin the DC current and/or the size of the filter inductor. For\n\nnected to the output of the valley-fill circuit in order to turn the\n\ncapacitors connected in series, it is well known that the Volt\n\nage of across each capacitor depends on the size of the capaci\n\nVoltage source into a current source, a current source with a\n\ntance. FIG. 29 shows one example of two capacitors con\n\nfurther reduced current ripple can also be generated.\n\n55\n\nThis further aspect of the present invention is particularly\n\nnected in series. Note that the current flow into this series\n\nSuitable to a variety of applications in which a fairly constant\n\ncircuit branch is the same in the two capacitors regardless of\n\noutput current source is required. Thus, although this aspect\n\ntheir capacitance. That is to say, the capacitors have the same\n\namount of charge for a given series current flow. The Voltage\n\nof the invention will be described with reference to drivers for\n\nacross each capacitor is inversely proportional to the size of\n\nLED loads for general lighting applications such as those\n\n60\n\nthe capacitor.\n\ndescribed above, this aspect of the invention can be applied\n\nmore generally.\n\nIn order to increase the lower DC voltage level (i.e. voltage\n\nValley-fill circuits have been proposed as passive methods\n\nacross C2), one can select the capacitance of C2 to be smaller\n\n(without active power switches) for input power factor cor\n\nthan that of C1 (i.e. C1DC2). This rule ensures that the voltage\n\nacross C2 is higher than 50% of the maximum DC voltage. In\n\nrections in AC-DC power conversion circuits and have been\n\n65\n\nadopted in low-cost applications such as electronic ballasts\n\norder to confirm this concept, C1 and C2 are changed to 6600\n\nuF and 330 LF, respectively. FIG. 30 shows the resulting\n\nand AC-DC converters. Modified versions of valley-fill cir\n\nUS 8,482,214 B2\n\n13\n\n14\n\ncuits have also been suggested for power factor correction. Two common features shared by these valley-fill applications are (i) the valley-fill circuits are used primarily for shaping the input current in the AC-DC power conversion circuit for improving the power factor and (ii) use capacitors of equal capacitance value in the individual circuits.\n\nthe LED load in circuits that do not include voltage ripple reduction. FIG. 23 shows an example of such a circuit where the input inductor L, is provided in series between the AC supply voltage V, and a diode rectifier the output of which is provided directly to the load. As with the circuit of FIG. 22 a capacitor C, may be provided in parallel between the input inductor and the diode rectifier to provide a conducting path in the event of any short-circuit or other problem in another part of the circuit, and also to provide a filtering function.\n\nAs described above, valley-fill circuits are used for reduc- ing the output DC voltage ripple or variation so that a fairly constant current source can be generated with the help of a filter inductor. One preferred embodiment of such a circuit is shown in FIG. 18. In traditional applications of valley-fill circuits, the two capacitors Cl and C2 are of the same capaci- tance value. This will allow the output voltage to be smaller than that ofa diode bridge, i.e. the output voltage ripple can be reduced by about 50%.\n\nIn another embodiment, the lighting system described above can become a dimmable system by using a variable input inductor L,, as shown in FIG. 24. As explained previ- ously, the use of the input inductor of a reasonably large size is to reduce the LED power sensitivity against input voltage variation. The relationship of the variation of the output cur- rent (which affects the LED power) with the input voltage variation has been shown as:\n\nfthe valley-fill circuit in FIG. 18 is not used, the front-end diode rectifier provides a rectified output voltage as shown in FIG. 27. It can be seen that the rectified DC voltage peaks at the maximum value of the input sinusoidal voltage and then rops to zero. However, when the valley-fill circuit is pro- vided with C1=C2=220 uF, the output DC voltage feeding the filter inductor L and LED load has a much reduced voltage ripple as displayed in FIG. 28(a). In this case, the maximum voltage is close to 180V and minimum voltage is close to 90V.\n\nAVs 0574 als Al, =\n\nThe output de current can be expressed as:\n\ntt should be noted that smaller capacitors such as C1=C2=22 HEF can also be used. For capacitance of this low magnitude, electrolytic capacitors which have short lifetimes are not needed. FIG. 28(4) shows the output DC voltage of the valley-fill circuit with these smaller capacitors. Also voltage charging and discharging in the capacitors becomes obvious, as shown in FIG. 28(4), but the average voltage is close to that in FIG. 28(a).\n\nwa \u4e00 59574075\n\nThis equation means that the size of the input inductor can affect the power of the LED load. If the inductance of the input inductor Ls can be changed, a dimming function becomes possible. By using a variable inductor Ls as shown. in FIG. 24, the power control of the LED load can be achieved.\n\nvoltage ripple is about 50% of the maximum value. This is a typical feature of valley-fill circuits where C1 and C2 are identical. When the voltage V, is at its peak, the output volt- age of the valley-fill circuit, which is clamped by the voltage across the LED load, will reach its maximum value. The rectified input current charges the two identical capacitors C1 and C2 through the diode D, equally and hence the two capacitor voltages are equal at this moment. Note that this voltage for C2 (half of the maximum DC voltage) is the maximum voltage of C2. Therefore, only full maximum volt- age or half maximum voltage levels appear in the output voltage of the valley-fill circuit ifC1 and C2 are large enough and of equal capacitance. Note that the lower DC voltage is actually the voltage across C2. With a voltage ripple reduced\n\nThe variable inductor can be implemented in various forms. For example, FIG. 25 shows an inductor with tapping control. By controlling the switch or switches, labeled as S1 and S2 in the present embodiment, to determine the number of turns in the inductor, the inductance value can be con- trolled. FIG. 26 shows another implementation of a variable inductor using a DC current in an auxiliary winding to alter the magnetic property (such as saturation level) of the core in order to vary the inductance value.\n\nA further aspect of the invention refers more generally to valley-fill circuits used in reducing the DC output voltage ripple and/or current ripple in AC-DC power conversion. Based on the ratio of the capacitors used in the valley-fill circuits, the output voltage ripple can be further controlled and reduced. Thus, it can be used to provide a DC voltage source with an even more reduced voltage variation than that, or example, described above. Further, if an inductor is con- nected to the output of the valley-fill circuit in order to turn the voltage source into a current source, a current source with a further reduced current ripple can also be generated.\n\nHowever, the output DC voltage of the valley-fill circuit can be further reduced so as to further reduce the output ripple in the DC current and/or the size of the filter inductor. For capacitors connected in series, it is well known that the volt- age of across each capacitor depends on the size of the capaci- tance. FIG. 29 shows one example of two capacitors con- nected in series. Note that the current flow into this series circuit branch is the same in the two capacitors regardless of their capacitance. That is to say, the capacitors have the same amount of charge for a given series current flow. The voltage across each capacitor is inversely proportional to the size of the capacitor.\n\nThis further aspect of the present invention is particularly suitable to a variety of applications in which a fairly constant output current source is required. Thus, although this aspect of the invention will be described with reference to drivers for LED loads for general lighting applications such as those described above, this aspect of the invention can be applied. more generally.\n\nIn order to increase the lower DC voltage level (i.e. voltage across C2), one can select the capacitance of C2 to be smaller than that of C1 (i.e. C1>C2). This rule ensures that the voltage across C2 is higher than 50% of the maximum DC voltage. In order to confirm this concept, C1 and C2 are changed to 6600 uF and 330 LF, respectively. FIG. 30 shows the resulting\n\nValley-fill circuits have been proposed as passive methods (without active power switches) for input power factor cor- rections in AC-DC power conversion circuits and have been adopted in low-cost applications such as electronic ballasts and AC-DC converters. Modified versions of valley-fill cir-\n\n10\n\n15\n\n20\n\n25\n\n30\n\n35\n\n40\n\n45\n\n50\n\n55\n\n60\n\n65\n\nIn the cases of FIG. 28(a) and FIG. 28(4), the output DC\n\nto 50%, the size of the filter inductor L can be reduced too.\n\nUS 8,482,214 B2\n\n15\n\n16\n\noutput DC voltage of the valley-fill circuit if this is done. It\n\n14. The LED lighting system of claim 13, wherein said\n\nmeans for varying the AC input power comprises a variable\n\ncan be seen that the Voltage ripple is now reduced to about\n\ninductor provided in series between the AC input and the\n\n30%.\n\nThus, specifying C1DC2 further reduces the output voltage\n\ndiode rectification circuit.\n\nripple in the valley-fill circuit so as to reduce the ripple in the\n\n15. The LED lighting system of claim 14, wherein said\n\noutput inductor current and/or the size of the filter inductor.\n\nvariable inductor is provided with tapping control.\n\nIt will be noted that any capacitors, including electrolytic\n\n16. The LED lighting system of claim 14, wherein said\n\ncapacitors, can be used. However, non-electrolytic capacitors\n\nvariable inductor is provided with an auxiliary winding hav\n\nare preferred since these lead to longer lifetimes and higher\n\ning a DC current to alter a magnetic property of the core in\n\nreliability.\n\n10\n\norder to vary the inductance value of said variable inductor.\n\nAlthough the invention has been described with reference\n\n17. An LED lighting system comprising:\n\nto specific examples, it will be appreciated by those skilled in\n\nan AC input power source:\n\nthe art that the invention can be embodied in many other\n\na rectification circuit for rectifying an AC input power and\n\nforms. It will also be appreciated by those skilled in the art\n\ngenerating a rectified DC power; and\n\nthat the features of the various examples described can be\n\n15\n\nan inductor provided in series between the AC input power\n\ncombined in other combinations.\n\nSource and the rectification circuit, wherein said induc\n\ntor is a variable inductor controllable such that the LED\n\nThe invention claimed is:\n\nlighting system is dimmable.\n\n1. An LED lighting system comprising in sequence:\n\n18. The LED lighting system of claim 17 further compris\n\na rectification circuit for rectifying an AC input power and\n\ning a capacitor provided in parallel between the said inductor\n\ngenerating a rectified DC power,\n\na first circuit for reducing the voltage ripple of said rectified\n\nand the said diode rectification circuit.\n\nDC power;\n\n19. The LED lighting system of claim 17, wherein said\n\na second circuit having a coupled inductor with a capacitor,\n\nvariable inductor is provided with tapping control.\n\nwherein the second circuit is arranged to generate a\n\n20. The LED lighting system of claim 17, wherein said\n\n25\n\nvariable inductor is provided with an auxiliary winding hav\n\ncurrent source; and\n\ning a DC current to alter a magnetic property of the core in\n\nat least one LED receiving said current source as an input;\n\nwherein the power supplied to said at least one LED is\n\norder to vary the inductance value of said variable inductor.\n\n21. A method of operating a LED lighting system compris\n\npermitted to vary, and wherein the operating and/or\n\ning the steps of\n\ndesign parameters of said at least one LED are chosen\n\n30\n\nrectifying an AC input Voltage to generate a rectified DC\n\nSuch that the variation in luminous flux resulting from\n\nthe variation in power is not observable to the human\n\npower;\n\nreducing the voltage ripple of said rectified DC power;\n\neye.\n\ngenerating a current source from said Voltage ripple\n\n2. The LED lighting system of claim 1, wherein said volt\n\nage ripple reducing circuit is a valley-fill circuit located\n\nreduced rectified DC power; and\n\n35\n\nproviding said current source as an input to at least one\n\nbetween said rectification circuit and said second circuit.\n\n3. The LED lighting system of claim 2, wherein said valley\n\nLED, wherein the power supplied to said at least one\n\nfill circuit includes a first capacitor and a second capacitor.\n\nLED is permitted to vary by use of a variable inductor,\n\nand wherein the operating and/or design parameters of\n\n4. The LED lighting system of claim 3, wherein the first\n\nand second capacitors have the same capacitance.\n\nsaid at least one LED are chosen such that the variation\n\n40\n\nin luminous flux resulting from the variation in power is\n\n5. The LED lighting system of claim 3, wherein the first\n\nand second capacitors have different capacitances Such that\n\nnot observable to the human eye.\n\nthe voltage ripple of said rectified DC power is further\n\n22. The method of claim 21, wherein a thermal character\n\nreduced.\n\nistic of the at least one said LED is chosen such that the\n\n6. The LED lighting system of claim 2, wherein said valley\n\nvariation in luminous flux resulting from the variation in\n\n45\n\nfill circuit includes a voltage-doubler.\n\npower is not observable to the human eye.\n\n7. The LED lighting system of claim 1, wherein said sec\n\n23. The method of claim 22, wherein said thermal charac\n\nteristic comprises the design of the heatsink.\n\nond circuit comprises an inductor.\n\n8. The LED lighting system of claim 1, wherein said sec\n\n24. The method of claim 22, wherein said thermal charac\n\nteristic comprises the provision of forced cooling or natural\n\nond circuit is a current ripple reduction circuit.\n\n50\n\ncooling.\n\n9. The LED lighting system of claim 1, wherein means are\n\nprovided for controlling the sensitivity of the LED power to\n\n25. The method of claim 21, wherein a valley-fill circuit is\n\nfluctuations in the voltage of the AC input power.\n\nused to reduce the voltage ripple of the rectified DC power.\n\n10. The LED lighting system of claim 9, wherein said\n\n26. The method of claim 25, wherein the valley-fill circuit\n\nis provided with a first capacitor and a second capacitor.\n\nmeans for controlling the sensitivity of the LED power to\n\n55\n\nfluctuations in the Voltage of the AC input power comprises an\n\n27. The method of claim 26, wherein the first capacitor and\n\nthe second capacitor have the same capacitance.\n\ninductor provided in series between the AC input and the\n\n28. The method of claim 26, wherein the first capacitor is\n\ndiode rectification circuit.\n\n11. The LED lighting system of claim 10 further compris\n\nselected with a different capacitance to the second capacitor\n\ning a capacitor provided in parallel between the said inductor\n\nsuch that the valley-fill circuit is used to further reduce the\n\n60\n\nvoltage ripple of the rectified DC power.\n\nand the said diode rectification circuit.\n\n12. The LED lighting system of claim 10, wherein said\n\n29. The method of claim 25, wherein said valley-fill circuit\n\nincludes a Voltage-doubler.\n\ninductor is a variable inductor controllable such that the at\n\n30. The method of claim 21, further comprising the step of\n\nleast one LED is dimmable.\n\nreducing the current ripple of said current source.\n\n13. The LED lighting system of claim 1, wherein means are\n\n65\n\nprovided for varying the AC input power such that the at least\n\n31. The method of claim 30, wherein a coupled inductor\n\nwith a capacitor is used to reduce the current ripple.\n\none LED is dimmable.\n\nUS 8,482,214 B2\n\n15\n\n16\n\noutput DC voltage of the valley-fill circuit if this is done. be seen that the voltage ripple is now reduced to about\n\n14. The LED lighting system of claim 13, wherein said means for varying the AC input power comprises a variable inductor provided in series between the AC input and the diode rectification circuit.\n\nThus, specifying C1>C2 further reduces the output voltage ripple in the valley-fill circuit so as to reduce the ripple in the output inductor current and/or the size of the filter inductor.\n\n15. The LED lighting system of claim 14, wherein said variable inductor is provided with tapping control.\n\nIt will be noted that any capacitors, including electrolytic capacitors, can be used. However, non-electrolytic capacitors are preferred since these lead to longer lifetimes and higher reliability.\n\n16. The LED lighting system of claim 14, wherein said variable inductor is provided with an auxiliary winding hav- a DC current to alter a magnetic property of the core order to vary the inductance value of said variable inductor.\n\nAlthough the invention has been described with reference to specific examples, it will be appreciated by those skilled in the art that the invention can be embodied in many other forms. It will also be appreciated by those skilled in the art that the features of the various examples described can be combined in other combinations.\n\n17. An LED lighting system comprising:\n\nan AC input power source:\n\nrectification circuit for rectifying an AC input power and generating a rectified DC power; and\n\ninductor provided in series between the AC input power source and the rectification circuit, wherein said induc- tor is a variable inductor controllable such that the LED lighting system is dimmable.\n\nThe invention claimed is:\n\n1. An LED lighting system comprising in sequence:\n\n18. The LED lighting system of claim 17 further compris- a capacitor provided in parallel between the said inductor the said diode rectification circuit.\n\narectification circuit for rectifying an AC input power and generating a rectified DC power;\n\nfirst circuit for reducing the voltage ripple of said rectified DC power;\n\n19. The LED lighting system of claim 17, wherein said variable inductor is provided with tapping control.\n\nasecond circuit having a coupled inductor with a capacitor, wherein the second circuit is arranged to generate current source; and\n\n20. The LED lighting system of claim 17, wherein said variable inductor is provided with an auxiliary winding hav- a DC current to alter a magnetic property of the core order to vary the inductance value of said variable inductor.\n\nleast one LED receiving said current source as an input;\n\nwherein the power supplied to said at least one LED permitted to vary, and wherein the operating and/or design parameters of said at least one LED are chosen such that the variation in luminous flux resulting from the variation in power is not observable to the human eye.\n\n21. A method of operating a LED lighting system compris- the steps of:\n\nrectifying an AC input voltage to generate a rectified DC power;\n\nreducing the voltage ripple of said rectified DC power;\n\n2. The LED lighting system of claim 1, wherein said volt- ripple reducing circuit is a valley-fill circuit located. between said rectification circuit and said second circuit.\n\ngenerating a current source from said voltage ripple reduced rectified DC power; and\n\nproviding said current source as an input to at least one LED, wherein the power supplied to said at least one LED is permitted to vary by use of a variable inductor, and wherein the operating and/or design parameters of said at least one LED are chosen such that the variation in luminous flux resulting from the variation in power is not observable to the human eye.\n\n3. The LED lighting system of claim 2, wherein said valley- circuit includes a first capacitor and a second capacitor.\n\n4. The LED lighting system of claim 3, wherein the first and second capacitors have the same capacitance.\n\n5. The LED lighting system of claim 3, wherein the first and second capacitors have different capacitances such that the voltage ripple of said rectified DC power is further reduced.\n\n22. The method of claim 21, wherein a thermal character- istic of the at least one said LED is chosen such that variation in luminous flux resulting from the variation is not observable to the human eye.\n\n6. The LED lighting system of claim 2, wherein said valley- fill circuit includes a voltage-doubler.\n\n7. The LED lighting system of claim 1, wherein said circuit comprises an inductor.\n\nThe method of claim 22, wherein said thermal charac- teristic comprises the design of the heatsink.\n\n8. The LED lighting system of claim 1, wherein said sec- circuit is a current ripple reduction circuit.\n\n24. The method of claim 22, wherein said thermal charac- teristic comprises the provision of forced cooling or natural cooling.\n\n9. The LED lighting system of claim 1, wherein means are provided for controlling the sensitivity of the LED power to fluctuations in the voltage of the AC input power.\n\n25. The method of claim 21, wherein a valley-fill circuit is used to reduce the voltage ripple of the rectified DC power.\n\n10. The LED lighting system of claim 9, wherein said means for controlling the sensitivity of the LED power to fluctuations in the voltage of the AC input power comprises an inductor provided in series between the AC input and the diode rectification circuit.\n\n26. The method of claim 25, wherein the valley-fill circuit is provided with a first capacitor and a second capacitor.\n\n27. The method of claim 26, wherein the first capacitor second capacitor have the same capacitance.\n\n28. The method of claim 26, wherein the first capacitor is selected with a different capacitance to the second capacitor such that the valley-fill circuit is used to further reduce the voltage ripple of the rectified DC power.\n\n11. The LED lighting system of claim 10 further compris- a capacitor provided in parallel between the said inductor the said diode rectification circuit.\n\n29. The method of claim 25, wherein said valley-fill circuit includes a voltage-doubler.\n\n12. The LED lighting system of claim 10, wherein said inductor is a variable inductor controllable such that the least one LED is dimmable.\n\n30. The method of claim 21, further comprising the step of reducing the current ripple of said current source.\n\n13. The LED lighting system of claim 1, wherein means are provided for varying the AC input power such that the at least LED is dimmable.\n\n31. The method of claim 30, wherein a coupled inductor with a capacitor is used to reduce the current ripple.\n\nIt\n\ncan\n\n30%.\n\na\n\na\n\nat\n\nis\n\nage\n\nfill\n\nsec-\n\nond\n\nond\n\ning and\n\nat\n\none\n\n10\n\n15\n\n20\n\n25\n\n30\n\n40\n\n45\n\n50\n\ning\n\nin\n\na\n\nan\n\ning and\n\ning\n\nin\n\ning\n\nthe in\n\nand\n\nthe\n\nUS 8,482,214 B2\n\n17\n\n18\n\nwherein means are provided for controlling the sensitivity\n\n32. The method of claim 21, further comprising reducing\n\nthe sensitivity of the LED power to fluctuations in the AC\n\nof the LED power to fluctuations in the voltage of the AC\n\ninput voltage.\n\ninput power, said means for controlling comprising an\n\n33. The method of claim 31, further comprising providing\n\ninductor provided in series between the AC input and the\n\nan inductor to reduce the sensitivity of the LED power to\n\ndiode rectification circuit.\n\n5\n\nfluctuations in the AC input voltage before rectifying the AC\n\n39. An LED lighting system comprising in sequence:\n\ninput voltage.\n\na rectification circuit for rectifying an AC input power and\n\n34. The method of claim 33, further comprising controlla\n\ngenerating a rectified DC power;\n\nbly varying the inductor such that the at least one LED is\n\na first circuit for reducing the voltage ripple of said rectified\n\ndimmable.\n\n10\n\nDC power;\n\n35. The method of claim 21, further comprising varying the\n\nAC input voltage such that the at least one LED is dimmable.\n\na second circuit having a coupled inductor with a capacitor,\n\n36. The method of claim 21, further comprising controlling\n\nwherein the second circuit is arranged to generate a\n\nthe variable inductor with tapping control.\n\ncurrent source; and\n\n37. The method of claim 21, further comprising providing\n\nat least one LED receiving said current source as an input;\n\n15\n\nthe variable inductor with an auxiliary winding having a DC\n\nwherein means are provided for varying the AC input\n\ncurrent and altering a magnetic property of the core in order to\n\npower such that the at least one LED is dimmable.\n\nvary the inductance value of said variable inductor.\n\n40. The LED lighting system of claim 39, wherein said\n\n38. An LED lighting system comprising in sequence:\n\nmeans for varying the AC input power comprises a variable\n\na rectification circuit for rectifying an AC input power and\n\ninductor provided in series between the AC input and the\n\ngenerating a rectified DC power,\n\ndiode rectification circuit.\n\na first circuit for reducing the voltage ripple of said rectified\n\n41. The LED lighting system of claim 40, wherein said\n\nDC power;\n\nvariable inductor is provided with tapping control.\n\na second circuit having a coupled inductor with a capacitor,\n\n42. The LED lighting system of claim 40, wherein said\n\nwherein the second circuit is arranged to generate a\n\nvariable inductor is provided with an auxiliary winding hav\n\n25\n\ncurrent source; and\n\ning a DC current to alter a magnetic property of the core in\n\nat least one LED receiving said current source as an input;\n\norder to vary the inductance value of said variable inductor.\n\nwherein said inductor is a variable inductor controllable\n\nsuch that the at least one LED is dimmable; and\n\nk\n\nk\n\nk\n\nk\n\nk\n\nUS 8,482,214 B2\n\n17\n\n18\n\n32. The method of claim 21, further comprising reducing sensitivity of the LED power to fluctuations in the AC voltage.\n\nmeans are provided controlling sensitivity of the LED power to fluctuations in the voltage of the AC input power, said means for controlling comprising an inductor provided in series between the AC input and the diode rectification circuit.\n\n33. The method of claim 31, further comprising providing inductor to reduce the sensitivity of the LED power to fluctuations in the AC input voltage before rectifying the AC input voltage.\n\n39. An LED lighting system comprising in sequence:\n\na rectification circuit for rectifying an AC input power and generating a rectified DC power;\n\n34. The method of claim 33, further comprising controlla- varying the inductor such that the at least one LED dimmable.\n\nfirst circuit for reducing the voltage ripple of said rectified DC power;\n\n35. The method of claim 21, further comprising varying the input voltage such that the at least one LED is dimmable.\n\nsecond circuit having a coupled inductor with a capacitor, wherein the second circuit is arranged to generate current source; and\n\n36. The method of claim 21, further comprising controlling variable inductor with tapping control.\n\n37. The method of claim 21, further comprising providing variable inductor with an auxiliary winding having a DC current and altering a magnetic property of the core in order to the inductance value of said variable inductor.\n\nleast one LED receiving said current source as an input; wherein means are provided for varying the AC input power such that the at least one LED is dimmable.\n\n40. The LED lighting system of claim 39, wherein said means for varying the AC input power comprises a variable inductor provided in series between the AC input and the diode rectification circuit.\n\n38. An LED lighting system comprising in sequence:\n\narectification circuit for rectifying an AC input power and generating a rectified DC power;\n\nfirst circuit for reducing the voltage ripple of said rectified DC power;\n\n41. The LED lighting system of claim 40, wherein variable inductor is provided with tapping control.\n\ncircuit having a coupled inductor witha capacitor, wherein the second circuit is arranged to generate current source; and\n\n42. The LED lighting system of claim 40, wherein said variable inductor is provided with an auxiliary winding hav- a DC current to alter a magnetic property of the core order to vary the inductance value of said variable inductor.\n\nat least one LED receiving said current source as an input; wherein said inductor is a variable inductor controllable such that the at least one LED is dimmable; and\n\nee\n\nthe input\n\nan\n\nbly\n\nis\n\nAC\n\nthe\n\nthe\n\nvary\n\na\n\nasecond\n\na\n\n\u7684\n\n10\n\n15\n\n20\n\n25\n\nwherein\n\nfor\n\nthe\n\na\n\na\n\na\n\nat\n\nsaid\n\ning\n\nin\n\nOR ok", "type": "Document"}}