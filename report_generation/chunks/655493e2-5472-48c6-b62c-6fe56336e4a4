{"lc": 1, "type": "constructor", "id": ["langchain", "schema", "document", "Document"], "kwargs": {"metadata": {"source": "/home/guanzhideng145/research/ip_portal/patent_kg/patents/1235_US20240143524A1.pdf"}, "page_content": "further arranged to resize the input data, the output data and/or the computation results with different bit lengths. As shown in FIG. 2A, in one example operation, 64-bit data read from the input FIFO. The polynomial coefficients are stored as 32-bit integers in the processor, so each 64-bit input data contains two polynomial coefficients. The two 32-bit polynomial coefficients are transformed under the modular q to cut the bit length to 23-bit. The width of the ROM and the two RAM blocks is 23-bit. The pre-computed. twiddle factor o is stored in a single-port ROM with a depth of n=256. The temporary results from the butterfly unit are stored in dual-port RAMs with a depth of n/2=128. The control flow of hybrid NIT/INTT module mainly includes control signals and memory address generators. The 2-bit state signal indicates the state in FIG. 26. When the state signal is (01), (read state), data is read from the input FIFO to the RAM_1. A read counter is used in the address generator to generate the address of the RAM_1. When the state signal is (10), (calculation state), the read data is fed into the butterfly unit from one RAM. At the same time, the butterfly unit writes the computed data into the other RAM. The 1-bit ntt_sel signal selects the NTT or INTT calculation. The whole calculation process is designed following the Algorithm 4. Note that there are three for loops in Algorithm 4, so three counters are used in the address generator for the loop address generation. The 1-bit flip signal is the least significant bit of the first counter (i.e. Step 2), which indicates round changes in NTT calculation. In different rounds of calculation, the two RAMs take turns to read and write. The unified butterfly structure takes a, , a5, \u00ab as inputs, calculates a,+a,x@, a;-a,xm in NTT, and calculates (a,+ a,)/2, (a,-a)xw/2 in INTT (i.e. Step 7-14). When the state signal is (11), (write state), the 46-bit output data from the RAM _2 is expanded to 64-bit, then written into", "type": "Document"}}